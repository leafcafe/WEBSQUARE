(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[6012],{6012:function(t,e,s){"use strict";s.r(e),s.d(e,{tabControl:function(){return p},content:function(){return g}});var r=s(2137),a=s(7757),i=s.n(a),n=s(9122),o=s(7827),l=s(1160),d=s(5841),h=s(8754),c=s(6079),b=s(7870),u=s(8402),p=function(t,e,s){b.s.call(this,t,e,s)};n.x.extend(p.prototype,b.s.prototype),p.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onbeforeselect","onbeforetabclose","onbeforetabmove","onaftertabmove","ondrawcomplete","ontabload","ontabsplit","onscrollleftbtnclick","onscrollrightbtnclick","onsubmenubtnclick"],useConfig:!0,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabPosition:"",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",selectedClass:"w2tabcontrol_selected",alwaysDraw:!1,useTabKeyOnly:!1,useMoveNextTabFocus:!1,useBackbridge:!1,useH3Bridge:!1,useConfirmMessage:!1,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"[#title]탭이 존재합니다. 기존의 탭을 사용하시려면 '확인'을 새로운 탭을 생성하시려면 '취소'를 선택하세요",confirmMessageLocaleRef:"",tabScroll:!1,mobileTabScroll:!1,adjustTabScroll:!1,visibleRowNum:5,closable:!1,useBridgeHelper:!0,spa:!1,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0,windowMaxNum:-1,tabScrollAuto:!1,focusOnStart:!0,useDrag:!1,preventTabClickEvent:!1,useLocale:!1,localeRef:"",hiddenTab:!1,useATagBtn:!1,tabMove:!1,initStyle:!1,useAccessibilityMenu:!1,forceChildCompEnabled:!1,tableRender:"",removeBridge:!1,spaAuto:!1,spaAutoDelay:3e3,closeAllBtn:!1,processMsgFrame:!1,frameModal:!1,changeActiveTab:!1,keepDisabledTab:!1,senseReader:!1,tabRole:!0,tabLiRole:"",changeActiveTabBeforeselect:!1};var g=function(){};g.prototype.defaultOptions={alwaysDraw:!1,src:"",style:"",frameMode:"",name:"",title:"",scope:!1,tabHTML:"",initScript:"",postScript:"",frameModal:"",processMsgFrame:"",msaName:""},p.prototype.initialize=function(t){try{if(this.selectedIndex=0,this.tabArr=[],this.contentsArr=[],this.tabContentOptions=WebSquare.uiplugin.content.prototype.defaultOptions,this.focusedIndex=-1,this.activeFirstTime=!1,this.increaseKey=0,this.visibleTabIndex=0,this.itemTable=null,this.isOpen=!1,this.itemTableTdMargin=null,this.senseReaderMode=!0,this.bridgeIdArr=[],this.backbridgeIdArr=[],this.lastEventType="",this.storedFrame=[],this.autoNum=0,this.options.iframeStorageCount&&!this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.iframeStorageCount),this.options.iframeMaxSize&&!this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.iframeMaxSize),this.options.iframeMinSize&&!this.options.spaIframeMinSize&&(this.options.spaIframeMinSize=this.options.iframeMinSize),this.options.spaIframeMinSize>this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize),this.options.spaInitCount>0&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount),("true"==o.v.getConfiguration("/WebSquare/spa/@value")||this.options.spaIframeMaxSize>0)&&(this.options.spa=!0),this.options.spaAuto&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount=0,this.options.spa=!0),h.D.getBoolean(this.options.useATagBtn)&&h.D.getBoolean(this.options.closable)?this.options.useATagBtn=!0:this.options.useATagBtn=!1,0==this.options.forceChildCompEnabled&&(this.options.forceChildCompEnabled=o.v.getConfiguration("/WebSquare/tabControl/forceChildCompEnabled/@value")||!1),null==t)return;this._initializeIScroll(),this.disabledTabStack=[],this.disabledComponents={},this.tabArr=this.makeTabArray(t,this.options),this.contentsArr=this.makeTabContentsArray(t,this.tabContentOptions,this.tabArr),this.initAllContents(),this.options.changeActiveTab&&(this.options.tabScroll=!0),
!this.options.tabScroll||"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||(this.options.tabScroll=!1)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.initContents=function(t){try{var e,s,r=this.options._scope_obj_uuid,a=null==r?null:WebSquare.idCache[r],i=t.contentsID;null!=a&&(i=this.options._scope_obj_org_id+t.contentsID.slice(this.id.length));var n,d=!0,c=h.D.getBoolean(t.scope)||h.D.getBoolean(o.v.getConfiguration("/WebSquare/wframe/scope/@value"));switch(t.frameMode){case"iframe":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:t.name,title:t.title,spa:this.options.spa,pluginName:"iframe",msaName:t.msaName};break;case"wframe":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:c,pluginName:"wframe",delegateProcessMsg:t.delegateProcessMsg||!1!==t.delegateProcessMsg&&h.D.getBoolean(this.options.delegateProcessMsg)||!1,processMsgFrame:t.processMsgFrame||!1!==t.processMsgFrame&&this.options.processMsgFrame||!1,frameModal:t.frameModal||!1!==t.frameModal&&this.options.frameModal||!1,msaName:t.msaName},t.initScript&&(e.initScript=t.initScript),t.postScript&&(e.postScript=t.postScript);break;case"wframePreload":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:c,pluginName:"wframe",src:t.src,preload:!0,delegateProcessMsg:t.delegateProcessMsg||!1!==t.delegateProcessMsg&&h.D.getBoolean(this.options.delegateProcessMsg)||!1,processMsgFrame:t.processMsgFrame||!1!==t.processMsgFrame&&this.options.processMsgFrame||!1,frameModal:t.frameModal||!1!==t.frameModal&&this.options.frameModal||!1,msaName:t.msaName},t.initScript&&(e.initScript=t.initScript),t.postScript&&(e.postScript=t.postScript);break;default:d=!1,(s=t.xml).setAttribute("className","w2tabcontrol_contents_wrapper")}return n=s&&"json"===s._elementType?u.D.createByJSON(i+"_body",null,s._element,a,r,d):u.D.create(i+"_body",e,s,a,r,d),t.dataObject&&n.setDataObject(t.dataObject),n}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.initAllContents=function(){try{for(var t,e,s=0;s<this.contentsArr.length;s++)t=this.contentsArr[s],e=this.initContents(t),this.addControl(e)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeTabContentsArray=function(t,e,s){try{if(null==s||s.length<1)return[];for(var r=[],a={},i=t.getChildNodes(),o=[],d=0;d<i.length;d++)"w2:content"===i[d].getTagName()&&o.push(i[d]);for(d=0;d<s.length;d++){var c=d<o.length?o[d]:null;null==c||1!=c.getNodeType()||"w2:content"!=c.getTagName()?(c=null,a={}):a=WebSquare.WebSquareparser.parseAttribute(c);var b=null==c||null==c.getAttribute("id")?this.id+"_contents_"+d:this.id+"_contents_"+c.getAttribute("id");s[d].contentsID=b,a.alwaysDraw?a.alwaysDraw=h.D.getBoolean(a.alwaysDraw):0==a.alwaysDraw||(a.alwaysDraw=this.options.alwaysDraw);var u=n.x.extend({contentsID:b,contentsClass:a.contentsClass||this.options.contentsClass,src:a.src||e.src,frameMode:null!=a.src&&""!=a.src?a.frameMode||e.frameMode:"",alwaysDraw:a.alwaysDraw,render:null,xml:c,name:a.name||"",title:a.title,scope:a.scope||e.scope},a||{});null!=u.src&&""!=u.src&&""==u.frameMode&&(u.frameMode="wframe"),r.push(u)}return r}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeTabArray=function(t,e){try{if(null==t)return[];for(var s=[],r=!1,a=!1,i=0,n=t.getChildNodes(),o=0;o<n.length;o++){var d=n[o];if(1==d.getNodeType()&&"w2:tabs"==d.getTagName()){if(i++,-1!=this.options.windowMaxNum&&i>this.options.windowMaxNum){alert(WebSquare.language.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));break}var c=d.getAttribute("id"),b=this.id+"_tab_"+(null==c?o:c),u=WebSquare.WebSquareparser.parseAttribute(d);if(void 0===u.label&&(u.label=""),("true"==u.useLocale||this.options.useLocale&&"false"!=u.useLocale)&&u.localeRef){var p=this.getLocaleValue(u.localeRef);p&&(u.label=p)}1==this.options.closable&&(r=!0),1==this.options.useATagBtn&&(a=!0);var g={tabID:b,userTabID:c,contentsID:"",tabLabel:u.label,
disabled:"true"==u.disabled,render:null,tabWidth:parseInt(u.tabWidth,10)>0?parseInt(u.tabWidth,10):this.options.tabWidth,tabGap:parseInt(u.tabGap,10)>0?parseInt(u.tabGap,10):this.options.tabGap,tabHeight:parseInt(u.tabHeight,10)>0?parseInt(u.tabHeight,10):this.options.tabHeight,tabClass:u.className||this.options.tabClass,tabStyle:u.style||this.options.tabStyle,activeTabClass:u.activeTabClass||this.options.activeTabClass,disabledTabClass:u.disabledTabClass||this.options.disabledTabClass,selectedClass:u.selectedClass||this.options.selectedClass,selectedImage:u.selectedImage?"url("+u.selectedImage+")":"",defaultImage:u.defaultImage?"url("+u.defaultImage+")":"",hoverImage:u.hoverImage?"url("+u.hoverImage+")":"",tabType:"image"==u.tabType?"image":"text",defaultClass:u.defaultClass||"",hoverClass:u.hoverClass||"",closable:1==h.D.getBoolean(u.closable)||r,hiddenTab:1==h.D.getBoolean(u.hiddenTab),closeBtn:null,label:u.label,value:b,title:u.title||u.label,tabHTML:u.tabHTML,useATagBtn:1==h.D.getBoolean(u.useATagBtn)||a};"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||"string"==typeof g.tabStyle&&g.tabStyle.indexOf("width")<0&&(g.tabStyle="width:"+15*g.label.length+"px;"+g.tabStyle),s.push(g)}}return s}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.toHTML=function(){try{var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'",s="";switch(this.options.tabPosition){case"top":s="w2tabcontrol_top ";break;case"bottom":s="w2tabcontrol_bottom ";break;case"left":s="w2tabcontrol_left ";break;case"right":s="w2tabcontrol_right "}return t.push("<div id='"+this.id+"' "+e+" class='w2tabcontrol "+s+this.options.className+"'>"),"bottom"==this.options.tabPosition&&t.push(this.makeAllContentsHTML()),this.options.tabScroll&&!h.D.isMobile()||this.options.tabScroll&&!this.options.mobileTabScroll?(t.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>"),this.options.useAccessibilityMenu?t.push("<button type='button' title='"+WebSquare.language.getMessage("TabControl_previous_tab")+"' id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft'></button>"):t.push("<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' title='"+WebSquare.language.getMessage("TabControl_previous_tab")+"' tabindex='-1'></div>"),t.push("<div id='"+this.id+"_mask' class='w2tabcontrol_control mask'>"),t.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>")):h.D.isMobile()&&this.options.mobileTabScroll&&t.push("<div id='"+this.id+"_mobiletabscroll' class='w2tabcontrol_mobiletabscroll'>"),t.push(this.makeAllTabHTML()),this.options.tabScroll&&!h.D.isMobile()||this.options.tabScroll&&!this.options.mobileTabScroll?(t.push("</div>"),t.push("</div>"),this.options.useAccessibilityMenu?(t.push("<button type='button' id='"+this.id+"_btn_scrollRight' title='"+WebSquare.language.getMessage("TabControl_next_tab")+"' class='w2tabcontrol_control btn_scrollRight'></button>"),t.push("<button type='button' id='"+this.id+"_btn_submenu' title='"+WebSquare.language.getMessage("TabControl_tab_list")+"' class='w2tabcontrol_control btn_submenu'></button>")):(t.push("<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' title='"+WebSquare.language.getMessage("TabControl_next_tab")+"' tabindex='-1'></div>"),t.push("<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' title='"+WebSquare.language.getMessage("TabControl_tab_list")+"' tabindex='-1'></div>")),t.push("</div>")):h.D.isMobile()&&this.options.mobileTabScroll&&t.push("</div>"),"bottom"!=this.options.tabPosition&&t.push(this.makeAllContentsHTML()),t.push("</div>"),t.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeTextTabHTML=function(t,e,s){try{var r=WebSquare.language.getMessage("TabControl_close")||"닫기",a="";switch(this.options.tabPosition){case"top":a=" w2tabcontrol_tabhost_top";break;case"bottom":a=" w2tabcontrol_tabhost_bottom";break;case"left":
a=" w2tabcontrol_tabhost_left";break;case"right":a=" w2tabcontrol_tabhost_right"}var i=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' ",null," "+h.D.getDataPrefix("index")+"='",null,"' ><div class='w2tabcontrol_tab_center"+a+"' ><a role='tab' id='"+t.tabID+"_tabHTML'",null,"' href='",null,"' ",null," "+(0==this.options.useTabKeyOnly?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left"+a+"'></div><div class='w2tabcontrol_tab_right"+a+"' >","<div id='",null,"' class='w2tabcontrol_tab_close' title='"+r+"'></div></div></li>"],n=(t.tabWidth>0?"width:"+t.tabWidth+"px;":"")+(t.tabHeight>0?"height:"+t.tabHeight+"px;line-height:"+(t.tabHeight-1)+"px;":"")+(t.tabGap>0?"margin-right:"+t.tabGap+"px;":"")+(t.tabStyle?t.tabStyle:"");return i[1]=t.tabID,i[3]=" w2tabcontrol_li_"+e+(t.disabled?" "+t.disabledTabClass:"")+(t.tabClass?" "+t.tabClass:""),s||e!==this.options.selectedIndex+1?i[3]+=t.defaultClass?" "+t.defaultClass:"":i[3]+=" "+t.activeTabClass+(t.selectClass?" "+t.selectClass:" "+t.selectedClass),i[5]=""==n?"":'style="'+n+'"',i[7]=e,""!=this.options.tabLiRole&&(i[4]+=' role="'+this.options.tabLiRole+'"'),!1===this.options.tabRole&&(i[8]="' ><div class='w2tabcontrol_tab_center"+a+"' ><a  id='"+t.tabID+"_tabHTML'"),i[9]=" aria-controls='"+t.contentsID+"'",i[9]+=" aria-selected='"+(e===this.options.selectedIndex+1?"true":"false"),this.options.removeBridge?i[11]="javascript:void(null);":i[11]="#"+t.contentsID+"_bridge",i[13]=""==t.title?"":'title="'+t.title+'"',i[15]=t.tabLabel,h.D.getBoolean(this.options.useATagBtn)&&(i[17]="<a id='",i[19]="' class='w2tabcontrol_tab_close_atag' href='javascript:void(null);' title='닫기'></a></div></li>"),i[18]=t.tabID+"_close",i.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeImageTabHTML=function(t,e,s){try{var r=WebSquare.language.getMessage("TabControl_close")||"닫기",a=["<li id='",null,"' class='w2tabcontrol_li ",null,"' ",null," "+h.D.getDataPrefix("index")+"='",null,"'><div  id='"+t.tabID+"_tabHTML' class='w2tabcontrol_tab_center2' ",null," ",null," role='tab' ",null," "+(0==this.options.useTabKeyOnly?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' title='"+r+"'></div>","</div></li>"],i=(t.tabWidth>0?"width:"+t.tabWidth+"px;":"")+(t.tabHeight>0?"height:"+t.tabHeight+"px;line-height:"+(t.tabHeight-1)+"px;":"")+(t.tabGap>0?"margin-right:"+t.tabGap+"px;":"")+(t.tabStyle?t.tabStyle:"");return a[1]=t.tabID,a[3]=" w2tabcontrol_li_"+e+(t.disabled?" "+t.disabledTabClass:"")+(t.tabClass?" "+t.tabClass:""),s||e!==this.options.selectedIndex+1?(a[3]+=t.defaultClass?" "+t.defaultClass:"",a[9]=t.defaultImage?"style='background-image:"+t.defaultImage+";":""):(a[3]+=" "+t.activeTabClass+(t.selectClass?" "+t.selectClass:" "+t.selectedClass),a[9]=t.selectedImage?"style='background-image:"+t.selectedImage+";'":""),a[5]=""==i?"":'style="'+i+'"',a[7]=e,a[11]=""==t.title?"":'title="'+t.title+'"',a[13]=""==t.contentsID?"":'aria-controls="'+t.contentsID+'"',a[13]+=" aria-selected='"+(e===this.options.selectedIndex+1?"true":"false")+"'",a[16]=t.tabID+"_close",h.D.getBoolean(this.options.useATagBtn)&&(a[15]="<a id='",a[17]="' class='w2tabcontrol_tab_close2_atag' href='javascript:void(null);' title='"+r+"'></a>"),a.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeAllTabHTML=function(){try{var t="";switch(this.options.tabPosition){case"top":t="w2tabcontrol_tabhost_top";break;case"bottom":t="w2tabcontrol_tabhost_bottom";break;case"left":t="w2tabcontrol_tabhost_left";break;case"right":t="w2tabcontrol_tabhost_right"}var e=[];e.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+" "+t+"' role='tablist' >");for(var s=0;s<this.tabArr.length;s++){var r=this.tabArr[s];this.tabArr[s].hiddenTab&&(r.tabStyle=r.tabStyle+"; display:none; visibility:hidden;");var a="make"+r.tabType.capitalize()+"TabHTML";e.push(this[a](r,s+1))}
return e.push("</ul>"),e.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeContentsHTML=function(t,e,s,r){try{var a=["<div id='",null,"' class='",null,"' role='tabpanel",null,null,null,"</div>"],i=this.getChild(t.contentsID+"_body"),n="";n=this.contentsArr[this.options.selectedIndex]!==t?"' aria-hidden='true' style='display:none'>":"' aria-hidden='false'>";var o="",d="";if(this.options.useTabKeyOnly){var c=t.title||e;if(this.options.useH3Bridge)o="<h3 id='"+t.contentsID+"_bridge' style='' class='w2tabcontrol_contents_bridge_h3'>"+c+"</h3>",r>=0?this.bridgeIdArr.splice(r,0,t.contentsID+"_bridge"):this.bridgeIdArr.push(t.contentsID+"_bridge");else{var b=this.options.useBridgeHelper?"<h3 id='"+t.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;' class='w2tabcontrol_contents_bridge_helper'>"+c+"</h3>":"";o=!0!==this.options.removeBridge||this.options.adaptive||h.D.isMobile()?"<a id='"+t.contentsID+"_bridge' class='w2tabcontrol_bridge' href='javascript:void(null);'>"+b+"</a>":b,r>=0?this.bridgeIdArr.splice(r,0,t.contentsID+"_bridge"):this.bridgeIdArr.push(t.contentsID+"_bridge")}}return this.options.useBackbridge&&(d="<a id='"+t.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>",r>=0?this.backbridgeIdArr.splice(r,0,t.contentsID+"_backbridge"):this.backbridgeIdArr.push(t.contentsID+"_backbridge")),a[1]=t.contentsID,a[3]=t.contentsClass,a[5]=h.D.getBoolean(this.options.removeAriaLabelledby)?"":"' aria-labelledby='"+e,a[6]=n,a[7]=o,a[7]+=t.alwaysDraw&&!s?i.toHTML():"",a[7]+=d,a.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeAllContentsHTML=function(){try{var t=[];t.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var e=0;e<this.contentsArr.length;e++){var s=this.contentsArr[e],r=this.tabArr[e];t.push(this.makeContentsHTML(s,r.tabLabel))}return t.push("</div>"),t.join("")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setAdaptive=function(){try{var t,e=this.options.adaptive,s=parseInt(this.options.adaptiveThreshold)||480;"layout"==e&&(t="w2tab_adaptive_layout"),h.D.isIE()&&parseInt(o.v.browserVersion(),10)<10||(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=s?this.hasClass(t)||this.addAdaptive():this.hasClass(t)&&this.removeAdaptive())}catch(t){l.w.printStackTrace(t)}},p.prototype.addAdaptive=function(){try{var t;if("layout"==this.options.adaptive&&(t="w2tab_adaptive_layout"),this.addClass(t),this.options.tabScroll)document.getElementById(this.id+"_control").style.display="none"}catch(t){l.w.printStackTrace(t)}},p.prototype.removeAdaptive=function(){try{var t;if("layout"==this.options.adaptive&&(t="w2tab_adaptive_layout"),this.removeClass(t),this.options.tabScroll)document.getElementById(this.id+"_control").style.display="block"}catch(t){l.w.printStackTrace(t)}},p.prototype.setAction=function(){try{if(this.options.initStyle){var t=document.getElementById(this.id).style.cssText,e=document.getElementById(this.id).getAttribute("class");WebSquare.initStyle[this.id]={style:t,className:e}}var s=WebSquare.BootLoader.fullViewed||!1,r=h.D.fullViewed||!1;s||r||"layout"==this.options.adaptive&&(this.setAdaptive(),this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive)));for(var a=this.getTabHostAndContainer(),i=0;i<this.tabArr.length;i++){var n=this.tabArr[i];n.render=document.getElementById(n.tabID),n.closeBtn=document.getElementById(n.tabID+"_close"),n.contentsRender=document.getElementById(n.contentsID),this.contentsArr[i].render=n.contentsRender;var c=this.contentsArr[i].frameMode;if(1==this.contentsArr[i].alwaysDraw&&("iframe"===c||"wframe"===c||"wframePreload"===c)){var b=this.getChild(n.contentsID+"_body");b.options&&"wframe"===b.options.pluginName&&(b.options.mode="sync"),this._addTabEvent({uuid:b.uuid,tabID:n.tabID,idx:i,userTabID:n.userTabID}),
"wframePreload"!==c&&b.setSrc(this.contentsArr[i].src,this.contentsArr[i].forceReload),"iframe"===c&&h.D.isIEAllVersion()&&h.D.setInterval(this.checkLoadEvent,{key:b.id+"_checkLoadEvent",caller:this,args:[b],delay:70})}n.tabHTML&&this.setTabHTML(n.userTabID,n.tabHTML)}if(this.options.tabScroll){WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{documentClick:!0},event:{}});var u=document.getElementById(this.id+"_btn_submenu");u&&(h.D.isMobile()?d.B.addListener(u,"ontouchstart",(function(t){d.B.stopPropagation(t)})):d.B.addListener(u,"onmousedown",(function(t){d.B.stopPropagation(t)})))}this.options.senseReader&&o.v.browserCheck.android||!h.D.isMobile()?(this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent)),this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent))):(h.D.getBoolean(o.v.getConfiguration("/WebSquare/bindMobileMouseEvent/@value"))&&(this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent)),this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent))),this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleMouseoverEvent))),this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent)),h.D.isIE(6)&&this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));var p=this;if(this.options.useTabKeyOnly?(this.event.addListener(a.tabhost,"onfocusin",(function(t){p.lastEventType=t.type})),this.event.addListener(a.tabhost,"onkeydown",(function(t){var e=t.charCode||t.keyCode;9!==e&&13!==e||(p.lastEventType=t.type)})),this.event.addListener(a.tabhost,"onmousedown",(function(t){p.senseReaderMode=!1}))):(this.event.addListener(a.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent)),this.event.addListener(a.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent)),1==this.options.useMoveNextTabFocus&&this.event.addListener(a.container,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusInEvent))),h.D.isMobile()?(this.event.addListener(a.tabhost,"ontouchstart",this.event.bindAsEventListener(this,this.handleTabMove)),this.event.addListener(a.tabhost,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove))):this.event.addListener(a.tabhost,"onmousedown",this.event.bindAsEventListener(this,this.handleTabMove)),this.options.useBackbridge)for(i=0;i<this.backbridgeIdArr.length;i++){var g=this.getElementById(this.backbridgeIdArr[i]);if(g){!function(t){d.B.addListener(g,"onkeydown",(function(e){13===(e.charCode||e.keyCode)&&p.setFocusedTab(t)}))}(i)}}this.setActiveTab(this.options.selectedIndex),this.adjustContentsHeight(),this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility()}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.onComplete=function(){this._makeIframeBackground(),b.s.prototype.onComplete.call(this)},p.prototype._makeIframeBackground=function(){try{o.v.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10}),this.options.spaAuto&&o.v.setTimer(this.createFrame,{key:this.id+"_createFrame",caller:this,delay:this.options.spaAutoDelay,args:[{maxFrame:1}]})}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.makeIframe=function(){if(WebSquare.uiplugin.iframe){for(var t,e=this.storedFrame.length,s=0;s<this.contentsArr.length;s++)"iframe"==this.contentsArr[s].frameMode&&e++;this.options.spaIframeMinSize>e&&(this._makeIframe(),o.v.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50}))}else{requires("uiplugin.iframe").then((t=this,function(e,s){t.makeIframe()}))}},p.prototype._makeIframe=function(){try{
var t=document.getElementById(this.id+"_container"),e=["<div id='",null,"' class='",this.options.contentsClass,"' role='tabpanel","","' aria-hidden='true' style='display:none'>",null,"</div>"],s=this.uuid+"_iframe_"+this.autoNum++,r=new WebSquare.uiplugin.iframe(s,{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",spa:this.options.spa,src:WebSquare.net.getBlankXML()});e[1]=s,e[5]=h.D.getBoolean(this.options.removeAriaLabelledby)?"":"' aria-labelledby='",e[7]=r.toHTML();var a=document.createElement("div");a.innerHTML=e.join("");var i=a.removeChild(a.firstChild);t.appendChild(i),r.render=i.firstChild,this.storedFrame.push(r.id),r.activeStatus="active"}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.createFrame=function(t){try{if(this.options.windowMaxNum<=this.getTabCount()+this.storedFrame.length)return void c.k.printLog("["+this.id+"] createFrame error : frames are full ("+this.options.windowMaxNum+")");void 0!==t&&null!=t||(t={}),(isNaN(t.maxFrame)||t.maxFrame>this.storedFrame.length)&&this._makeIframe()}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.addRoundedCornerForIE=function(){try{for(var t=WebSquare.language.getMessage("TabControl_right_corner")||"오른쪽 모서리 이미지",e=WebSquare.language.getMessage("TabControl_left_corner")||"왼쪽 모서리 이미지",s=0;s<this.tabArr.length;s++){var r=this.tabArr[s];if("img"!=r.render.firstChild.nodeName.toLowerCase()){var a=document.createElement("img");a.src=n.x._resourceURI+"uiplugin/tabControl/images/right-top.png",a.className="w2tabcontrol_righttop",a.setAttribute("alt",t),r.render.insertBefore(a,r.render.firstChild),(a=document.createElement("img")).src=n.x._resourceURI+"uiplugin/tabControl/images/left-top.png",a.className="w2tabcontrol_lefttop",a.setAttribute("alt",e),r.render.insertBefore(a,r.render.firstChild),a=null}}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getTabHostAndContainer=function(){try{var t=document.getElementById(this.id+"_tabhost");return{container:document.getElementById(this.id+"_container"),tabhost:t}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.adjustContentsHeight=function(){try{var t=this.getTabHostAndContainer(),e=t.container,s=t.tabhost,r=h.D.getStyleProperty(this.render,"height");if(h.D.isIEAllVersion()&&("auto"===r||"0px"===r)&&window.getComputedStyle)try{r=document.defaultView.getComputedStyle(this.render,null).getPropertyValue("height"),parseInt(r,10)<e.offsetHeight&&(this.render.style.height=e.offsetHeight+s.offsetHeight+"px")}catch(t){l.w.printStackTrace(t,null,this)}if(this.options.tabScroll&&"auto"!=r&&"0px"!=r){var a=document.getElementById(this.id+"_control");if(parseInt(r,10)==parseInt(h.D.getStyleProperty(a,"height"),10))return}if(null==r||""==r||"auto"==r||"0px"==r)return;if("%"==(r+"").charAt((r+"").length-1))return;var i=(parseInt(r,10)||0)-(parseInt(h.D.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt(h.D.getStyleProperty(this.render,"padding-bottom"),10)||0),n=(parseInt(h.D.getStyleProperty(s,"height"),10)||0)+(parseInt(h.D.getStyleProperty(s,"border-top-width"),10)||0)+(parseInt(h.D.getStyleProperty(s,"border-bottom-width"),10)||0)+(parseInt(h.D.getStyleProperty(s,"margin-top"),10)||0)+(parseInt(h.D.getStyleProperty(s,"margin-bottom"),10)||0);switch(this.options.tabPosition?e.style.position="absolute":e.style.height=i-n+"px",this.options.tabPosition){case"top":e.style.height=i-n+"px",e.style.top=s.offsetTop+s.scrollHeight+"px";break;case"bottom":if(e.style.height=i-n+"px",this.options.tabScroll)(a=document.getElementById(this.id+"_control")).style.top=e.offsetTop+e.offsetHeight+"px";else s.style.top=e.offsetTop+e.offsetHeight+"px";break;case"left":for(var o=0,d=[],c=0;c<this.tabArr.length;c++)if(this.tabArr[c].render){var b=WebSquare.style.getSize(this.tabArr[c].render,"width");d.push(b),o=Math.max(b,o)}else d.push(-1);s.style.width=o+"px",s.style.left="0px",e.style.height=i+"px",e.style.left=o+"px",e.style.width="auto",e.style.right="0px"
;for(c=0;c<d.length;c++)d[c]<o&&(this.tabArr[c].render.style.left=o-d[c]+"px");break;case"right":for(o=0,c=0;c<this.tabArr.length;c++)this.tabArr[c].render&&(o=Math.max(WebSquare.style.getSize(this.tabArr[c].render,"width"),o));s.style.width=o+"px",s.style.right="0px",e.style.height=i+"px",e.style.left="0px",e.style.width="auto",e.style.right=o+"px"}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setClosable=function(t,e){try{if(t=parseInt(t,10),e=e||!1,t<0||t>=this.tabArr.length)return!1;this.tabArr[t].closable=e}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setActiveTab=function(){var t=(0,r.Z)(i().mark((function t(e){var s,r,a,n,o,c,b,p,g,m,f,y,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!((e=parseInt(e,10))<0||e>=this.tabArr.length)){t.next=5;break}return t.abrupt("return",!1);case 5:if(!this.tabArr[e].disabled&&!this.tabArr[e].hidden){t.next=10;break}return(s=this.tabArr[e]).render=document.getElementById(s.tabID),this.removeClass(s.render,s.activeTabClass),t.abrupt("return",!1);case 10:for(this.changeTabhostAccessibility(e),r=0;r<this.tabArr.length;r++){if((s=this.tabArr[r]).render=document.getElementById(s.tabID),r!=e){this.removeClass(s.render,s.activeTabClass),s.selectedClass&&this.removeClass(s.render,s.selectedClass),s.defaultClass&&this.addClass(s.render,s.defaultClass),s.contentsRender.style.display="none",s.contentsRender.style.visibility="hidden",s.contentsRender.setAttribute("aria-hidden","true"),this.addClass(s.contentsRender," "),"image"==s.tabType&&((a=s.render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=s.defaultImage||a.style[WebSquare.style.camelize("background-image")]);try{null!=(n=this.getChild(s.contentsID+"_body"))&&n.removeClass("w2tabcontrol_contents_wrapper_selected"),this.options.useTabKeyOnly&&null!=(o=document.getElementById(this.bridgeIdArr[r]))&&this.removeClass(o,"w2tabcontrol_contents_bridge_selected"),null!=n&&"active"===n.activeStatus&&"iframe"===n.options.pluginName&&n.getWindow()&&n.getWindow().WebSquare&&n.getWindow().WebSquare.getBody()&&n.getWindow().WebSquare.getBody().getLayerListener().hideAll()}catch(t){l.w.printStackTrace(t,null,this)}}0==this.options.useTabKeyOnly&&(c="image"==s.tabType?s.render.getElementsByTagName("div")[0]:s.render.getElementsByTagName("a")[0],r!=e?"a"==c.nodeName.toLowerCase()&&""==c.innerHTML?c.parentNode.setAttribute("tabIndex","-1"):c.setAttribute("tabIndex","-1"):"a"==c.nodeName.toLowerCase()&&""==c.innerHTML?c.parentNode.setAttribute("tabIndex","0"):c.setAttribute("tabIndex","0"))}if(s=this.tabArr[e],b=this.contentsArr[e],this.addClass(s.render,s.activeTabClass),s.defaultClass&&this.removeClass(s.render,s.defaultClass),s.selectedClass&&this.addClass(s.render,s.selectedClass),"image"==s.tabType&&((a=s.render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=s.selectedImage||a.style[WebSquare.style.camelize("background-image")]),b.render.style.display="block",b.render.style.visibility="visible",b.render.setAttribute("aria-hidden","false"),this.addClass(b.render," "),p=this.getChild(s.contentsID+"_body"),this.options.useTabKeyOnly&&null!=(o=document.getElementById(this.bridgeIdArr[e]))&&this.addClass(o,"w2tabcontrol_contents_bridge_selected"),g=WebSquare.BootLoader.fullViewed||!1,m=h.D.fullViewed||!1,f=this.selectedIndex,this.selectedIndex=e,this.focusedIndex=e,0==b.alwaysDraw&&p.reuseFrame&&!p.loaded&&(p.loaded=!0,this._addTabEvent({uuid:p.uuid,tabID:s.tabID,idx:e,userTabID:s.userTabID}),p.setSrc(b.src,b.forceReload)),0!=b.alwaysDraw||p.reuseFrame){t.next=41;break}if(p.render){t.next=38;break}return t.next=34,u.D.initAsync();case 34:return t.next=36,this._setActiveTabAsync(e);case 36:t.next=39;break;case 38:g||m||p.refreshAdaptive();case 39:t.next=56;break;case 41:if(1!=b.alwaysDraw){t.next=56;break}if(this.options.useTabKeyOnly||1!=this.options.useMoveNextTabFocus){t.next=54;break}if(!(e<this.tabArr.length-1)){t.next=54;break}
y=!1,r=0;case 46:if(!(r<b.render.firstChild.childNodes.length)){t.next=53;break}if("dummyDivForNextTabFocus"!=b.render.firstChild.childNodes[r].id){t.next=50;break}return y=!0,t.abrupt("break",53);case 50:r++,t.next=46;break;case 53:0==y&&(b.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>");case 54:g||m||p.refreshAdaptive(),"wframe"===p.options.pluginName&&e!==this.selectedIndex&&d.B.fireEvent(p,"onsetsize");case 56:return"iframe"==b.frameMode&&"src"in b&&""!=b.src&&1==b.alwaysDraw&&("about:blank"==(v=p.render.getAttribute("src"))||WebSquare.net.isSSLBlankPage(v))&&(this._addTabEvent({uuid:p.uuid,tabID:s.tabID,idx:e,userTabID:s.userTabID}),p.setSrc(b.src,b.forceReload),h.D.isIEAllVersion()&&h.D.setInterval(this.checkLoadEvent,{key:p.id+"_checkLoadEvent",caller:this,args:[p],delay:70})),p.addClass("w2tabcontrol_contents_wrapper_selected"),f!=e&&d.B.fireEvent(this,"onchange",s.tabID,e,s.userTabID),this.options.useTabKeyOnly&&(o=document.getElementById(this.bridgeIdArr[e]))&&this.activeFirstTime&&this.options.focusOnStart&&o.focus(),1!=this.activeFirstTime&&(this.activeFirstTime=!0),this.options.tabScroll&&(this.visibleTabIndex>this.selectedIndex?this.scrollTab(this.selectedIndex):this.getVisibleTab()[this.selectedIndex]||this.scrollTab(this.selectedIndex,"right")),WebSquare.getBody().getLayerListener().hideAll(),t.abrupt("return",!0);case 66:t.prev=66,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 69:case"end":return t.stop()}}),t,this,[[1,66]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype._setActiveTabAsync=function(){var t=(0,r.Z)(i().mark((function t(e){var s,r,a,n,o,c,b;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,s=this.tabArr[e],r=this.contentsArr[e],a=this.getChild(s.contentsID+"_body"),!this.options.useTabKeyOnly){t.next=10;break}n=!0!==this.options.removeBridge||this.options.adaptive||h.D.isMobile()?document.getElementById(this.bridgeIdArr[e]):document.getElementById(this.bridgeIdArr[e]+"_helper"),r.render.innerHTML=n.outerHTML+a.toHTML(),t.next=23;break;case 10:if(r.render.innerHTML=a.toHTML(),1!=this.options.useMoveNextTabFocus){t.next=23;break}if(!(e<this.tabArr.length-1)){t.next=23;break}o=!1,c=0;case 15:if(!(c<r.render.firstChild.childNodes.length)){t.next=22;break}if("dummyDivForNextTabFocus"!=r.render.firstChild.childNodes[c].id){t.next=19;break}return o=!0,t.abrupt("break",22);case 19:c++,t.next=15;break;case 22:0==o&&(r.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>");case 23:if((b="wframe"===r.frameMode||"wframePreload"===r.frameMode||"iframe"===r.frameMode)&&this._addTabEvent({uuid:a.uuid,tabID:s.tabID,idx:e,userTabID:s.userTabID}),a.render&&null==a.render.parentNode&&(a.render=document.getElementById(a.id)),a.activate(),r.render.clientHeight>a.render.clientHeight&&(a.render.style.height=r.render.clientHeight+"px"),a.onComplete(),"iframe"!==r.frameMode){t.next=33;break}a.setSrc(r.src,r.forceReload),t.next=36;break;case 33:if("wframe"!==r.frameMode){t.next=36;break}return t.next=36,a.setSrc(r.src,r.forceReload);case 36:b||(d.B.fireEvent(this,"ondrawcomplete",s.tabID,e,s.userTabID),d.B.fireEvent(this,"ontabload",s.tabID,e,s.userTabID)),t.next=42;break;case 39:t.prev=39,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 42:case"end":return t.stop()}}),t,this,[[1,39]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype.activateTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;if(this.tabArr[t].disabled)return!1;var e=this.tabArr[t],s=this.contentsArr[t],r=this.getChild(e.contentsID+"_body");0==s.alwaysDraw&&r.reuseFrame&&!r.loaded&&(r.loaded=!0,r.setSrc(s.src,s.forceReload));var a=Promise.resolve();if(0==s.alwaysDraw&&!r.reuseFrame&&!r.render){var i=this.uuid;u.D._awaitObj.key.length>0||u.D._asyncList.length>0?a=u.D.initAsync().then((function(e,s){WebSquare.idCache[i]._activateTabAsync(t)})):this._activateTabAsync(t)}return a
}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._activateTabAsync=function(t){try{var e,s=this.tabArr[t],r=this.contentsArr[t],a=this.getChild(s.contentsID+"_body");if(this.options.useTabKeyOnly)e=!0!==this.options.removeBridge||this.options.adaptive||h.D.isMobile()?document.getElementById(this.bridgeIdArr[t]):document.getElementById(this.bridgeIdArr[t]+"_helper"),r.render.innerHTML=e.outerHTML+a.toHTML();else r.render.innerHTML=a.toHTML();a.activate(),a.onComplete(),"wframePreload"===r.frameMode||"wframe"!==r.frameMode&&"iframe"!==r.frameMode||!r.src||a.setSrc(r.src,r.forceReload)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.scrollTab=function(t,e,s){try{if(!this.options.tabScroll||t>=this.tabArr.length||t<0)return;if(e=void 0===e?"left":e,t=parseInt(t,10),"btn_scrollLeft"==s){for(;this.tabArr[t].render&&"none"==this.tabArr[t].render.style.display;)if(--t<0)return}else if("btn_scrollRight"==s)for(;this.tabArr[t].render&&"none"==this.tabArr[t].render.style.display;)t++;if("right"==e){var r=document.getElementById(this.id+"_mask"),a=WebSquare.style._getSize(r,"innerWidth"),i=WebSquare.style._getSize(this.tabArr[t].render,"outerMarginWidth");do{var n=t-1;if(n<0)break;if("none"!=this.tabArr[t].render.style.display&&(i+=WebSquare.style._getSize(this.tabArr[n].render,"outerMarginWidth")),i>a)break}while(t-- >0)}for(var o=document.getElementById(this.id+"_scroll"),d=0,h=0;h<t;h++)"none"!=this.tabArr[h].render.style.display&&(d-=WebSquare.style._getSize(this.tabArr[h].render,"outerMarginWidth"));WebSquare.style.setStyle(o,"left",d+"px"),this.visibleTabIndex=t}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.changeActiveTab=function(){var t=(0,r.Z)(i().mark((function t(e){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,this.options.tabScroll){t.next=4;break}return t.abrupt("return");case 4:if(s=this.selectedIndex,!("btn_scrollLeft"==e&&s>0)){t.next=15;break}s--;case 7:if(!(s>0&&this.tabArr[s].render)||"none"!=this.tabArr[s].render.style.display&&!this.tabArr[s].disabled){t.next=13;break}if(!(--s<0)){t.next=11;break}return t.abrupt("return");case 11:t.next=7;break;case 13:t.next=23;break;case 15:if(!("btn_scrollRight"==e&&s<this.tabArr.length-1)){t.next=23;break}s++;case 17:if(!(s<this.tabArr.length-1&&this.tabArr[s].render)||"none"!=this.tabArr[s].render.style.display&&!this.tabArr[s].disabled){t.next=23;break}if(s++,!(this.tabArr.length-1<s)){t.next=21;break}return t.abrupt("return");case 21:t.next=17;break;case 23:if(s==this.selectedIndex){t.next=31;break}if(!0!==this.options.changeActiveTabBeforeselect){t.next=29;break}return t.next=27,this.setSelectedTabIndex(s);case 27:t.next=31;break;case 29:return t.next=31,this.setActiveTab(s);case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 36:case"end":return t.stop()}}),t,this,[[1,33]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype.getVisibleTab=function(){try{var t={};if(this.options.tabScroll)for(var e=document.getElementById(this.id+"_mask"),s=WebSquare.style.getSize(e,"innerWidth"),r=0,a=this.visibleTabIndex;a<this.tabArr.length;a++)(r+=WebSquare.style.getSize(this.tabArr[a].render,"outerMarginWidth"))<=s&&(t[a]=!0);return t}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getRealTabIndex=function(t){try{for(var e=0,s=0,r=0;r<this.tabArr.length;r++)if(!this.tabArr[r].hidden&&"none"!=this.tabArr[r].render.style.display&&"hidden"!=this.tabArr[r].render.style.visibility){if(e>=t){s=r;break}e++}return s}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setFocusedTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;var e=this.tabArr[t];if(e.disabled)return!1;e.render=document.getElementById(e.tabID);var s="image"==e.tabType?e.render.getElementsByTagName("div")[0]:e.render.getElementsByTagName("a")[0];"a"==s.nodeName.toLowerCase()&&""==s.innerHTML?s.parentNode.focus():s.focus()}catch(t){l.w.printStackTrace(t,null,this)}},
p.prototype.checkScrollBtnVisibility=function(){try{if(this.options.tabScroll){for(var t=document.getElementById(this.id+"_control"),e=document.getElementById(this.id+"_mask"),s=document.getElementById(this.id+"_btn_scrollLeft"),r=document.getElementById(this.id+"_btn_scrollRight"),a=document.getElementById(this.id+"_btn_submenu"),i=document.getElementById(this.id+"_scroll"),n=WebSquare.style.getSize(t,"innerWidth"),o=0,d=0;d<this.tabArr.length;d++)if((o+=WebSquare.style.getSize(this.tabArr[d].render,"outerMarginWidth"))>n)return void(this.hasClass(e,"mask")||(this.addClass(e,"mask"),s.style.display="",r.style.display="",a.style.display="",s.style.visibility="",r.style.visibility="",a.style.visibility=""));this.hasClass(e,"mask")&&(WebSquare.style.setStyle(i,"left","0px"),this.removeClass(e,"mask"),s.style.display="none",r.style.display="none",a.style.display="none",s.style.visibility="hidden",r.style.visibility="hidden",a.style.visibility="hidden",this.visibleTabIndex=0)}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleTabClickEvent=function(t){try{for(var e,s=this.event.getTargetIterator(t,this.render,this._eventBubbling),r="none";s.next();){var a=s.getElement(),i="w2tabcontrol_tab_close",n="w2tabcontrol_tab_close2",o=h.D.getBoolean(this.options.useATagBtn);if(o&&(i="w2tabcontrol_tab_close_atag",n="w2tabcontrol_tab_close2_atag"),this.__hasClass(a,i)||this.__hasClass(a,n)){r="ontabclose",e=(o?a.parentNode.parentNode.getElementsByTagName("a").length>1?a.parentNode.parentNode.getElementsByTagName("a")[0]:a.parentNode.parentNode.getElementsByTagName("div")[0]:a.parentNode.parentNode.getElementsByTagName("a").length>0?a.parentNode.parentNode.getElementsByTagName("a")[0]:a.parentNode.parentNode.getElementsByTagName("div")[0]).getAttribute("aria-controls");break}if(s.match("w2tabcontrol_li",null,null,this.id+"_tab_")){r="ontabclick",e=(o?a.getElementsByTagName("a").length>1?a.getElementsByTagName("a")[0]:a.getElementsByTagName("div")[0]:a.getElementsByTagName("a").length>0?a.getElementsByTagName("a")[0]:a.getElementsByTagName("div")[0]).getAttribute("aria-controls");break}if(s.match("btn_scrollLeft",null,null,this.id+"_btn_scrollLeft")){this._eventBubbling||d.B.stopPropagation(t),this.options.changeActiveTab?this.changeActiveTab("btn_scrollLeft"):this.scrollTab(this.visibleTabIndex-1,null,"btn_scrollLeft"),d.B.fireEvent(this,"onscrollleftbtnclick");break}if(s.match("btn_scrollRight",null,null,this.id+"_btn_scrollRight")){if(this._eventBubbling||d.B.stopPropagation(t),this.options.changeActiveTab)this.changeActiveTab("btn_scrollRight");else{for(var c=document.getElementById(this.id+"_mask"),b=WebSquare.style.getSize(c,"outerMarginWidth"),u=0,p=this.visibleTabIndex;p<this.tabArr.length;p++)"none"!=this.tabArr[p].render.style.display&&(u+=WebSquare.style.getSize(this.tabArr[p].render,"outerMarginWidth"));if(u>b){this.scrollTab(this.visibleTabIndex+1,null,"btn_scrollRight"),d.B.fireEvent(this,"onscrollrightbtnclick");break}}d.B.fireEvent(this,"onscrollrightbtnclick")}else{if(s.match("btn_submenu",null,null,this.id+"_btn_submenu")){this._eventBubbling||d.B.stopPropagation(t),this.toggle(),d.B.fireEvent(this,"onsubmenubtnclick");break}if(this.hasClass("w2tab_adaptive_layout")&&(this.__hasClass(a,"w2tabcontrol_contents_bridge_helper")||this.options.useH3Bridge&&this.__hasClass(a,"w2tabcontrol_contents_bridge_h3"))){r="ontabclick",e=this.options.useH3Bridge?a.parentNode.id:a.parentNode.parentNode.id;break}if(s.match("btn_close_all",null,null,this.id)){this._eventBubbling||d.B.stopPropagation(t),this.deleteAllTabs();break}}}if(s=null,"none"==r)return;this.senseReaderMode&&"focusin"===this.lastEventType||this.hasClass("w2tab_adaptive_layout")||(this._eventBubbling&&"ontabclick"==r?d.B.preventDefault(t):d.B.stopEvent(t));var g,m=-1;for(p=0;p<this.tabArr.length;p++)if((g=this.tabArr[p]).contentsID==e){m=p;break}if("ontabclick"==r){if(m>=0&&(1!=this.tabArr[m].disabled||1!=this.options.preventTabClickEvent)){var f=Promise.resolve()
;this.selectedIndex==m&&1!=this.options.useTabKeyOnly||(f=this.setSelectedTabIndex(m)),f.then(function(t,e,s,r){return function(a,i){d.B.fireEvent(t,e,s,r)}}(this,r,g.tabID,m))}}else this.deleteTab(m)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleMouseoverEvent=function(t){try{var e,s,r=this.event.getTargetIterator(t,this.render);if(h.D.isMobile()&&"mouseover"!==t.type&&(s=this.iScroll.bTouchMove,this._initializeIScroll(),!0===s))return;for(;r.next();){if(r.match("w2tabcontrol_li")){for(var a=r.getElement(),i=0;i<this.tabArr.length;i++)if(this.tabArr[i].render)if(this.tabArr[i].render!=a)this.removeClass(this.tabArr[i].render,this.options.overTabClass),this.tabArr[i].hoverClass&&this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass),this.tabArr[i].closeBtn&&(this.tabArr[i].closeBtn.style.display="none"),"image"==this.tabArr[i].tabType&&((e=this.tabArr[i].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||e.style[WebSquare.style.camelize("background-image")]);else{if(this.tabArr[i].disabled)continue;this.addClass(a,this.options.overTabClass),this.tabArr[i].hoverClass&&this.addClass(this.tabArr[i].render,this.tabArr[i].hoverClass),this.tabArr[i].closable&&this.tabArr[i].closeBtn&&(this.tabArr[i].closeBtn.style.display="block"),"image"==this.tabArr[i].tabType&&((e=this.tabArr[i].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=this.tabArr[i].hoverImage||this.tabArr[i].selectedImage||e.style[WebSquare.style.camelize("background-image")])}return void(h.D.isMobile()&&"mouseover"!==t.type&&this.handleTabClickEvent(t))}r.match("btn_scrollLeft")?this.addClass(r.getElement(),"btn_scrollLeft_over"):r.match("btn_scrollRight")?this.addClass(r.getElement(),"btn_scrollRight_over"):r.match("btn_submenu")?this.addClass(r.getElement(),"btn_submenu_over"):r.match("btn_close_all")&&this.addClass(r.getElement(),"btn_close_all_over")}for(i=0;i<this.tabArr.length;i++)this.tabArr[i].render&&(this.removeClass(this.tabArr[i].render,this.options.overTabClass),this.tabArr[i].hoverClass&&this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass),this.tabArr[i].closeBtn&&(this.tabArr[i].closeBtn.style.display="none"),"image"==this.tabArr[i].tabType&&((e=this.tabArr[i].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||e.style[WebSquare.style.camelize("background-image")]));r=null,h.D.isMobile()&&"mouseover"!==t.type&&this.handleTabClickEvent(t)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleMouseoutEvent=function(t){try{d.B.stopEvent(t);for(var e=this.event.getTargetIterator(t,this.render);e.next();){if(e.match("w2tabcontrol_li")){for(var s=e.getElement(),r=-1,a=0;a<this.tabArr.length;a++)if(this.tabArr[a].render===s){r=a;break}if(null==this.tabArr[r])break;if(this.removeClass(this.tabArr[r].render,this.options.overTabClass),this.tabArr[r].hoverClass&&this.removeClass(this.tabArr[r].render,this.tabArr[r].hoverClass),this.tabArr[r].closeBtn.style.display="none","image"==this.tabArr[r].tabType){var i=this.tabArr[r].render.getElementsByTagName("div")[0];i.style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==r?this.tabArr[r].selectedImage:this.tabArr[r].defaultImage)||i.style[WebSquare.style.camelize("background-image")]}break}if(e.match("btn_scrollLeft")){this.removeClass(e.getElement(),"btn_scrollLeft_over");break}if(e.match("btn_scrollRight")){this.removeClass(e.getElement(),"btn_scrollRight_over");break}if(e.match("btn_submenu")){this.removeClass(e.getElement(),"btn_submenu_over");break}if(e.match("btn_close_all")){this.removeClass(e.getElement(),"btn_close_all_over");break}}e=null}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleResizeEvent=function(t){try{if(this.options.tabScroll){
var e=document.getElementById(this.id+"_control"),s=document.getElementById(this.id+"_mask"),r=document.getElementById(this.id+"_btn_scrollLeft"),a=document.getElementById(this.id+"_btn_scrollRight"),i=document.getElementById(this.id+"_btn_submenu"),n=WebSquare.style.getSize(e,"innerWidth")-WebSquare.style.getSize(r,"outerMarginWidth")-WebSquare.style.getSize(a,"outerMarginWidth")-WebSquare.style.getSize(i,"outerMarginWidth"),o=parseInt(WebSquare.style.getStyleProperty(s,"padding-left"))+parseInt(WebSquare.style.getStyleProperty(s,"margin-left"))+parseInt(WebSquare.style.getStyleProperty(s,"padding-right"))+parseInt(WebSquare.style.getStyleProperty(s,"margin-right"));WebSquare.style.setStyle(s,"width",n-o+"px")}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleKeyEvent=function(t){try{var e=t.charCode?t.charCode:t.keyCode,s=this.getTabHostAndContainer(),r=this.event.getTargetIterator(t,this.render);if(13!=e&&37!=e&&38!=e&&39!=e&&40!=e&&46!=e)return;if(46==e&&t.altKey)return void this.deleteTab(this.getSelectedTabIndex());for(;r.next();)if((i=r.getElement())==s.container){if((37==e||38==e)&&t.ctrlKey){var a=this.tabArr[this.selectedIndex];if(1==(i="image"==a.tabType?a.render.getElementsByTagName("div")[0]:a.render.getElementsByTagName("a")[0]).nodeType)return i.focus(),void d.B.stopEvent(t)}return}switch(e){case 13:return void this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0,"a"==(i="image"==this.tabArr[this.focusedIndex].tabType?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0]).nodeName.toLowerCase()&&""==i.innerHTML?i.parentNode.focus():i.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:var i;this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex,"a"==(i="image"==this.tabArr[this.focusedIndex].tabType?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0]).nodeName.toLowerCase()&&""==i.innerHTML?i.parentNode.focus():i.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0)}r=null,d.B.stopEvent(t)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleFocusInEvent=function(t){try{var e=this.event.getTargetIterator(t,this.render);for(this.lastEventType=t.type;e.next();)if(e.match(null,"dummyDivForNextTabFocus")){var s=this.tabArr[this.focusedIndex+1],r="image"==s.tabType?s.render.getElementsByTagName("div")[0]:s.render.getElementsByTagName("a")[0];if(1==r.nodeType)return this.focusedIndex++,r.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0),e=null,void d.B.stopEvent(t)}e=null}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleTabMove=function(t){try{if(h.D.isMobile()){var e=t.touches&&1==t.touches.length,s=window.navigator.msPointerEnabled&&"touch"==t.pointerType;(e||s)&&(this.iScroll.prevTouches={x:e?t.touches[0].clientX:t.clientX,y:e?t.touches[0].clientY:t.clientY})}if(!this.options.tabMove&&!this.options.tabSplit)return;d.B.stopEvent(t);var r=this.event.getTargetIterator(t,this.render),a=-1,i=this.uuid;for(this._zoomLevel=null!=WebSquare.BootLoader.fullViewRatio?WebSquare.BootLoader.fullViewRatio:1;r.next();)if(r.match("w2tabcontrol_li")){var n=r.getElement();if(!n)return;for(var o=0;o<this.tabArr.length;o++)if(this.tabArr[o].render===n){a=o;break}if(isNaN(a)||a<0)return;WebSquare.dragdrop.gDragManager.activate(t,n,{id:this.id+"_ghostLayer_tabMove",className:"w2tabcontrol_drag_tabMove",dragoverClass:"w2tabcontrol_li",dropClass:"w2tabcontrol_li",delay:15,makeGhostLayer:function(t){return t.render.className="",t.render.style.zIndex=-1e3,t.render.style.width="0px",t.render.style.height="0px",t},handleStart:function(t){var e=a,s=WebSquare.idCache[i];if(!s.options.tabSplit){var r=$(s.tabArr[e].render)
;this.isVertical="left"===s.options.tabPosition||"right"===s.options.tabPosition,this.isVertical?this.tabMove_top=r.css("top"):this.tabMove_left=r.css("left"),this.dragOverTab={},this.dropIndex=-1,this.tabMove_zIndex=r.css("zIndex");var n=Number(this.tabMove_zIndex);if(this.tabMove_zIndex_Array=[],isNaN(n)||n<=0)for(var o=0;o<s.tabArr.length;o++){var l=$(s.tabArr[o].render);this.tabMove_zIndex_Array.push(l.css("zIndex")),o===e?l.css("zIndex",0):l.css("zIndex",1)}else r.css("zIndex",n-1)}},onDrop:function(t,e,s,r,n,o,l){var h=a,c=WebSquare.idCache[i];if(c.options.tabSplit)d.B.fireEvent(c,"ontabsplit",h);else{var b=$(c.tabArr[h].render);if(this.isVertical?b.css("top",this.tabMove_top):b.css("left",this.tabMove_left),this.tabMove_zIndex_Array.length>0)for(var u=0;u<c.tabArr.length;u++)$(c.tabArr[u].render).css("zIndex",this.tabMove_zIndex_Array[u]);else b.css("zIndex",this.tabMove_zIndex);for(var p in this.dragOverTab)this.isVertical?$(c.tabArr[p].render).css("top",this.dragOverTab[p]):$(c.tabArr[p].render).css("left",this.dragOverTab[p]);c.options.tabMove&&c.moveTab(h,this.dropIndex),this.tabMove_left="",this.tabMove_zIndex="",this.dragOverTab={},this.tabMove_zIndex_Array=[]}},onDragover:function(t,e,s,r,n,o,l){var d=a,h=-1,c=WebSquare.idCache[i];if(!c.options.tabSplit){for(var b=0;b<c.tabArr.length;b++)if(c.tabArr[b].render===e){h=b;break}var u=$(c.tabArr[d].render);if(this.isVertical?u.css("top",o/c._zoomLevel):u.css("left",n/c._zoomLevel),null!=c.tabArr[h]&&h!==d){var p=$(c.tabArr[h].render);null==this.dragOverTab[h]?(this.isVertical?(this.dragOverTab[h]=p.css("top"),d>h?p.css("top",u.height()):p.css("top",-1*u.height())):(this.dragOverTab[h]=p.css("left"),d>h?p.css("left",u.width()):p.css("left",-1*u.width())),this.dropIndex=h):(this.isVertical?p.css("top",this.dragOverTab[h]):p.css("left",this.dragOverTab[h]),this.dragOverTab[h]=null,delete this.dragOverTab[h],this.dropIndex=d>h?h+1:h-1)}}}}),r.stop()}r=null}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.handleTouchMove=function(t){try{var e=t.touches&&1==t.touches.length,s=window.navigator.msPointerEnabled&&"touch"==t.pointerType;if(e||s){var r={x:e?t.touches[0].clientX:t.clientX,y:e?t.touches[0].clientY:t.clientY},a=this.iScroll.prevTouches.x-r.x,i=this.iScroll.prevTouches.y-r.y;(Math.abs(a)>this.iScroll.epsilon||Math.abs(i)>this.iScroll.epsilon)&&(this.iScroll.bTouchMove=!0)}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getWindow=function(t){try{var e,s=void 0!==t?t:this.selectedIndex;if(s=this._getTabIndex(s),!this._isValidTabIndex(s))return e;for(var r=0;r<this.contentsArr.length;r++){var a=this.getChild(this.contentsArr[r].contentsID+"_body");if(r==s){e="iframe"===a.getPluginName()||"wframe"===a.getPluginName()?a.getWindow():window;break}}return e}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setContentsHeight=function(t){try{var e=this.getTabHostAndContainer(),s=e.container,r=e.tabhost;t=parseInt(t,10),s.style.height=t+"px";parseInt(h.D.getStyleProperty(r,"height"),10),parseInt(h.D.getStyleProperty(r,"border-top-width"),10),parseInt(h.D.getStyleProperty(r,"border-bottom-width"),10),parseInt(h.D.getStyleProperty(r,"margin-top"),10),parseInt(h.D.getStyleProperty(r,"margin-bottom"),10)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getSelectedTabID=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getSelectedTabIndex=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getTabIndex=function(t){var e=null;try{for(var s=0;s<this.tabArr.length;s++)if(t==this.tabArr[s].userTabID){e=s;break}return e}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._getTabIndex=function(t){try{var e=t;if("string"==typeof t&&null==(e=this.getTabIndex(t))&&(e=Number(t),isNaN(e)))return;return e}catch(t){
l.w.printStackTrace(t,null,this)}},p.prototype.getTabID=function(t){var e="";try{for(var s=0;s<this.tabArr.length;s++)if(t==s){e=this.tabArr[s].userTabID;break}return e}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setSelectedTabIndex=function(){var t=(0,r.Z)(i().mark((function t(e){var s,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,s=0,"string"!=typeof e){t.next=17;break}r=!0,a=0;case 6:if(!(a<this.tabArr.length)){t.next=14;break}if(this.tabArr[a].userTabID!=e){t.next=11;break}return s=a,r=!1,t.abrupt("break",14);case 11:a++,t.next=6;break;case 14:r&&(s=e),t.next=18;break;case 17:s=e;case 18:if(0!=d.B.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),s)){t.next=21;break}return t.abrupt("return");case 21:return t.next=23,this.setActiveTab(s);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 28:case"end":return t.stop()}}),t,this,[[1,25]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype.getTabCount=function(t){try{var e=this.tabArr.length,s=0;if(!1===(t||{}).hiddenTab){for(var r=0,a=this.tabArr.length;r<a;r++)this.tabArr[r].hidden&&s++;e-=s}return e}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.deleteTab=function(){var t=(0,r.Z)(i().mark((function t(e){var s,r,a,n,o,h,c,b,u,p,g,m,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!((e=parseInt(e,10))<0||e>=this.tabArr.length)){t.next=5;break}return t.abrupt("return");case 5:if(s=this.tabArr[e],r=s.tabID,a=s.userTabID,!1!==d.B.fireEvent(this,"onbeforetabclose",r,e)){t.next=10;break}return t.abrupt("return");case 10:if(this.selectedIndex!=e){t.next=35;break}n=e+1;case 12:if(t.t0=n<this.tabArr.length,!t.t0){t.next=18;break}return t.next=16,this.setActiveTab(n);case 16:t.t1=t.sent,t.t0=0==t.t1;case 18:if(!t.t0){t.next=22;break}n++,t.next=12;break;case 22:if(!(n>=this.tabArr.length)){t.next=34;break}n=e-1;case 24:if(t.t2=n>=0,!t.t2){t.next=30;break}return t.next=28,this.setActiveTab(n);case 28:t.t3=t.sent,t.t2=0==t.t3;case 30:if(!t.t2){t.next=34;break}n--,t.next=24;break;case 34:this.selectedIndex>e&&this.selectedIndex--;case 35:if(o=this.contentsArr[e],h=this.getChild(this.tabArr[e].contentsID+"_body"),c="iframe"==o.frameMode&&h.render&&this.storedFrame.length<this.options.spaIframeMaxSize,b="wframe"===o.frameMode||"wframePreload"===o.frameMode||"iframe"===o.frameMode,h&&(c?(h.loaded=!1,this.removeControl(h),this.storedFrame.push(h.id),h.setSrc(WebSquare.net.getBlankXML())):h.remove()),u=s.render.parentNode,p=o.render.parentNode,u.removeChild(s.render),c){for(n=0;n<o.render.childNodes.length;n++)o.render.childNodes[n]!=h.render&&o.render.removeChild(o.render.childNodes[n]);o.render.style.display="none",o.render.style.visibility="hidden",o.render.setAttribute("aria-hidden","true"),this.addClass(o.render," ")}else p.removeChild(o.render);for(g in h=null,this.tabArr[e])this.tabArr[e][g]=null;for(g in this.contentsArr[e])this.contentsArr[e][g]=null;for(s=null,o=null,this.tabArr.splice(e,1),this.contentsArr.splice(e,1),this.bridgeIdArr.splice(e,1),this.backbridgeIdArr.splice(e,1),n=e;n<this.tabArr.length;n++)s=this.tabArr[n],m=n+2,f=n+1,this.__removeClass(s.render,"w2tabcontrol_li_"+m),this.__addClass(s.render,"w2tabcontrol_li_"+f);if(!(e<this.selectedIndex)){t.next=59;break}return t.next=57,this.setActiveTab(this.selectedIndex-1);case 57:t.next=72;break;case 59:if(e!=this.selectedIndex){t.next=69;break}if(!this.tabArr[this.selectedIndex]){t.next=65;break}return t.next=63,this.setActiveTab(this.selectedIndex);case 63:t.next=67;break;case 65:return t.next=67,this.setActiveTab(this.selectedIndex-1);case 67:t.next=72;break;case 69:if(!(e>this.selectedIndex)){t.next=72;break}return t.next=72,this.setActiveTab(this.selectedIndex);case 72:this.options.tabScrollAuto&&this.scrollTab(Math.max(this.visibleTabIndex-1,0)),this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility(),
d.B.fireEvent(this,"ontabclose",r,e),b||(d.B.fireEvent(this,"ondrawcomplete",r,e,a),d.B.fireEvent(this,"ontabload",r,e,a)),t.next=81;break;case 78:t.prev=78,t.t4=t.catch(1),l.w.printStackTrace(t.t4,null,this);case 81:case"end":return t.stop()}}),t,this,[[1,78]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype.deleteAllTabs=function(){try{if(this.tabArr.length<=0)return;for(var t=this.getTabHostAndContainer(),e=this.tabArr.length-1;e>=0;e--){var s=this.getChild(this.tabArr[e].contentsID+"_body");s&&s.remove();var r=this.tabArr[e];t.tabhost.removeChild(r.render);var a=this.contentsArr[e];t.container.removeChild(a.render)}this.tabArr=[],this.contentsArr=[],this.bridgeIdArr=[],this.backbridgeIdArr=[],this._makeIframeBackground()}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getFrame=function(t){if(t=this._getTabIndex(t),this._isValidTabIndex(t)){var e=this.contentsArr[t],s=this.getChild(e.contentsID+"_body");return null!=s?s:void 0}},p.prototype._getCurrentFrame=function(){var t=this.contentsArr[this.selectedIndex],e=this.getChild(t.contentsID+"_body");if(null!=e)return e},p.prototype.isLoaded=function(t){if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;var e=this.contentsArr[t];return this.getChild(e.contentsID+"_body").completed},p.prototype.addTab=function(){var t=(0,r.Z)(i().mark((function t(e,s,r){var a,d,c,b,p,g,m,f,y,v,T,I,A,x,_,S,w,k,C,M,D,B,E,L,N,W,H,q,z,P,F,R;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,a=e||"",void 0!==s){t.next=5;break}return t.abrupt("return");case 5:d=!1,c=0;case 7:if(!(c<this.tabArr.length)){t.next=14;break}if(""!=a&&this.tabArr[c].userTabID!=a){t.next=11;break}return d=!0,t.abrupt("break",14);case 11:c++,t.next=7;break;case 14:if(b=s.openAction,!d){t.next=46;break}if(b||this.options.useConfirmMessage&&(p=this.options.confirmMessage,s.useLocale&&this.options.confirmMessageLocaleRef?(g=this.getLocaleValue(this.options.confirmMessageLocaleRef))&&(p=g):p.indexOf("#title")>-1&&(p=p.replace("#title",s.label)),!0,m=confirm(p),b=m?this.options.confirmTrueAction:this.options.confirmFalseAction),"exist"!==b){t.next=27;break}return f=this.getTabIndex(a),y=this.contentsArr[f],"active"!=(v=this.getChild(this.tabArr[f].contentsID+"_body")).activeStatus?y.src=r.src||"about:blank":"iframe"===v.options.pluginName?v.setSrc(r.src||"about:blank",y.forceReload):(r.dataObject?T={dataObject:r.dataObject}:y.dataObject&&(T={dataObject:y.dataObject}),v.setSrc(r.src||"",T)),t.next=24,this.setSelectedTabIndex(f);case 24:return t.abrupt("return",a);case 27:if("new"!==b){t.next=31;break}a=a+"_"+this.increaseKey++,t.next=46;break;case 31:if("select"!==b){t.next=37;break}return t.next=34,this.setSelectedTabIndex(this.getTabIndex(a));case 34:return t.abrupt("return",a);case 37:if("last"!==b){t.next=45;break}return f=this.getTabIndex(a),$("#"+this.id+"_tabhost").children().last().after($("#"+this.id+"_tab_"+a)),t.next=42,this.setSelectedTabIndex(f);case 42:case 45:return t.abrupt("return",a);case 46:if(!(-1!=this.options.windowMaxNum&&this.getTabCount()>=this.options.windowMaxNum)){t.next=49;break}return alert(WebSquare.language.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum)),t.abrupt("return");case 49:if(I=this.id+"_tab_"+a,A={tabID:I,userTabID:a,contentsID:"",tabLabel:s.label||"",disabled:s.disabled||!1,render:null,tabWidth:parseInt(s.tabWidth,10)>0?parseInt(s.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(s.tabHeight,10)>0?parseInt(s.tabHeight,10):this.options.tabHeight,tabClass:s.class||this.options.tabClass,tabStyle:s.style||this.options.tabStyle,activeTabClass:s.activeTabClass||this.options.activeTabClass,disabledTabClass:s.disabledTabClass||this.options.disabledTabClass,selectedClass:s.selectedClass||this.options.selectedClass,selectedImage:s.selectedImage?"url("+s.selectedImage+")":"",defaultImage:s.defaultImage?"url("+s.defaultImage+")":"",hoverImage:s.hoverImage?"url("+s.hoverImage+")":"",
tabType:"image"==s.tabType?"image":"text",defaultClass:s.defaultClass||"",hoverClass:s.hoverClass||"",closable:null!=s.closable?h.D.getBoolean(s.closable):this.options.closable,closeBtn:null,label:s.label||"",value:I,title:s.title||s.label,tabHTML:s.tabHTML||"",useLocale:s.useLocale||this.options.useLocale,useATagBtn:null!=s.useATagBtn?h.D.getBoolean(s.useATagBtn):this.options.useATagBtn},"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||"string"==typeof A.tabStyle&&A.tabStyle.indexOf("width")<0&&(A.tabStyle="width:"+15*A.label.length+"px;"+A.tabStyle),x=n.x.extendKeepingType({},WebSquare.uiplugin.content.prototype.defaultOptions),_=n.x.extendKeepingType(x,r),!1===r.processMsgFrame&&(_.processMsgFrame=!1),!1===r.delegateProcessMsg&&(_.delegateProcessMsg=!1),!1===r.frameModal&&(_.frameModal=!1),S=this.id+"_contents_"+a,A.contentsID=S,(y=n.x.extend({contentsID:S,contentsClass:r.contentsClass||this.options.contentsClass,render:null,xml:null,name:_.name||"",scope:_.scope,msaName:_.msaName},_||{})).src&&(_.frameMode||(y.frameMode=_.wframe?"wframe":"iframe")),s.addTabIndex>=0?(this.tabArr.splice(s.addTabIndex,0,A),this.contentsArr.splice(s.addTabIndex,0,y)):(this.tabArr.push(A),this.contentsArr.push(y)),w=this.getTabHostAndContainer(),k=w.container,C=w.tabhost,s.addTabIndex<=this.selectedIndex&&this.selectedIndex++,!(this.storedFrame.length>0&&"iframe"===y.frameMode)){t.next=85;break}M=S+"_body",D=!1,c=0;case 70:if(!(c<this.storedFrame.length)){t.next=78;break}if(this.storedFrame[c]!=M){t.next=75;break}return B=this.storedFrame.splice(c,1),D=!0,t.abrupt("break",78);case 75:c++,t.next=70;break;case 78:D||(B=this.storedFrame.shift()),(v=h.D.getComponentById(B)).reuseFrame=!0,D||o.v.setId(M,v),_.name&&v.setAttribute("name",_.name),t.next=86;break;case 85:v=this.initContents(y);case 86:if("wframePreload"!==y.frameMode){t.next=89;break}return t.next=89,u.D.initAsync();case 89:for(this.addControl(v),E="make"+A.tabType.capitalize()+"TabHTML",s.addTabIndex>=0?((L=document.createElement("div")).innerHTML=this[E](A,this.tabArr.length,!0),C.insertBefore(L.childNodes[0],C.childNodes[s.addTabIndex]||null)):C.innerHTML+=this[E](A,this.tabArr.length,!0),"top"!==this.options.tabPosition&&"bottom"!==this.options.tabPosition||!A.tabWidth&&A.tabStyle.indexOf("width")<0&&(N=s.addTabIndex>=0?C.childNodes[s.addTabIndex]:C.lastChild,W=0,null!=N&&(N.style.overflow="visible",null!=N.firstChild&&(N.firstChild.style.overflow="visible"),N.childNodes.length>1&&(W+=N.childNodes[1].offsetWidth),N.childNodes.length>2&&(W+=N.childNodes[2].offsetWidth)),N.style.width=N.scrollWidth+W+"px"),(H=document.createElement("div")).innerHTML=this.makeContentsHTML(y,A.tabLabel,v&&v.reuseFrame,s.addTabIndex),q=H.removeChild(H.firstChild),v&&v.reuseFrame&&v.render&&v.render.parentNode?(z=v.render.parentNode,this.options.useTabKeyOnly&&(null!=(P=document.getElementById("bridgeId"))&&z.removeChild(P),z.insertBefore(q.firstChild,v.render)),this.options.useBackbridge&&(null!=(P=document.getElementById("bridgeId"))&&z.removeChild(P),z.appendChild(q.lastChild,v.render)),z.setAttribute("id",y.contentsID),z.setAttribute("class",y.contentsClass),h.D.getBoolean(this.options.removeAriaLabelledby)||z.setAttribute("aria-labelledby",A.tabLabel)):k.appendChild(q),H=null,q=null,y.alwaysDraw&&("iframe"!==y.frameMode&&"wframe"!==y.frameMode&&"wframePreload"!==y.frameMode||this._addTabEvent({uuid:v.uuid,tabID:A.tabID,idx:s.addTabIndex>=0?s.addTabIndex:this.tabArr.length-1,userTabID:A.userTabID}),v.reuseFrame||(v.activate(),v.onComplete()),"iframe"!==y.frameMode&&"wframe"!==y.frameMode||v.setSrc(y.src,y.forceReload),h.D.isIEAllVersion()&&"iframe"===y.frameMode&&h.D.setInterval(this.checkLoadEvent,{key:v.id+"_checkLoadEvent",caller:this,args:[v],delay:70})),F=h.D.getDataPrefix("index"),c=0;c<this.tabArr.length;c++)(A=this.tabArr[c]).render=document.getElementById(A.tabID),A.closeBtn=document.getElementById(A.tabID+"_close"),A.contentsRender=document.getElementById(A.contentsID),
this.contentsArr[c].render=A.contentsRender,s.addTabIndex>=0&&A.render.setAttribute(F,c+1),A.tabHTML&&this.setTabHTML(A.userTabID,A.tabHTML);if(R=s.addTabIndex>=0?s.addTabIndex:this.tabArr.length-1,this.tabArr[R].contentsRender.style.display="none",1!=this.tabArr.length){t.next=108;break}return t.next=107,this.setActiveTab(0);case 107:"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||this.adjustContentsHeight();case 108:return this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility(),this.options.spaAuto&&o.v.setTimer(this.createFrame,{key:this.id+"_createFrame",caller:this,delay:this.options.spaAutoDelay,args:[{maxFrame:1}]}),t.abrupt("return",a);case 113:t.prev=113,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 116:case"end":return t.stop()}}),t,this,[[1,113]])})));return function(e,s,r){return t.apply(this,arguments)}}(),p.prototype.disableTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;var e=this.tabArr[t];if(1==e.disabled)return;var s=this.contentsArr[t];this.removeClass(e.render,e.activeTabClass),this.addClass(e.render,e.disabledTabClass),h.D.isIE(8)&&(e.render.style.zIndex=0);var r=e.render.getElementsByTagName("a")[0];null!=r&&(r.removeAttribute("href"),r=null),e.disabled=!0;var a=this.getChild(s.contentsID+"_body");"stop"!=a.activeStatus&&(this.disabledComponents[t]=h.D.setDisabled({componentId:a.id,disabled:!0}).skipComponents);for(var i=0;i<this.disabledTabStack.length;i++)if(this.disabledTabStack[i].tabID===e.tabID){this.disabledTabStack.splice(i,1);break}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.enableTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;var e=this.tabArr[t];if(0==e.disabled)return;var s=this.contentsArr[t];this.removeClass(e.render,e.disabledTabClass),this.selectedIndex>=0&&t==this.selectedIndex&&this.addClass(e.render,e.activeTabClass),e.disabled=!1,h.D.isIE(8)&&(e.render.style.zIndex="");var r=e.render.getElementsByTagName("a")[0];null!=r&&(r.setAttribute("href","#"+e.contentsID+"_bridge"),r=null);var a=this.getChild(s.contentsID+"_body");if("stop"!=a.activeStatus){var i={componentId:a.id,disabled:!1};null!=this.disabledComponents[t]&&0==this.options.forceChildCompEnabled&&(i.excludeIdList=this.disabledComponents[t]),h.D.setDisabled(i),null!=this.disabledComponents[t]&&delete this.disabledComponents[t]}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.hideTab=function(){var t=(0,r.Z)(i().mark((function t(e){var s,r,a,n,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!((e=parseInt(e,10))<0||e>=this.tabArr.length)){t.next=5;break}return t.abrupt("return");case 5:if(0!=d.B.fireEvent(this,"onbeforehide",this.getSelectedTabIndex(),e)){t.next=8;break}return t.abrupt("return");case 8:if(e!=this.selectedIndex){t.next=33;break}s=e+1;case 10:if(t.t0=s<this.tabArr.length,!t.t0){t.next=16;break}return t.next=14,this.setActiveTab(s);case 14:t.t1=t.sent,t.t0=0==t.t1;case 16:if(!t.t0){t.next=20;break}s++,t.next=10;break;case 20:if(!(s>=this.tabArr.length)){t.next=32;break}s=e-1;case 22:if(t.t2=s>=0,!t.t2){t.next=28;break}return t.next=26,this.setActiveTab(s);case 26:t.t3=t.sent,t.t2=0==t.t3;case 28:if(!t.t2){t.next=32;break}s--,t.next=22;break;case 32:e==this.selectedIndex&&(this.selectedIndex=-1);case 33:r=this.tabArr[e],a=this.contentsArr[e],h.D.isIE(8)&&(r.render.style.zIndex=0),r.render.style.visibility="hidden",r.render.style.display="none",r.hidden=!0,a.render.style.display="none",a.render.style.visibility="hidden",a.render.setAttribute("aria-hidden","true"),this.options.tabScrollAuto&&this.options.tabScroll&&(n=this.visibleTabIndex,o=this.getVisibleTab(),c=n+Object.keys(o).length-1,(this.visibleTabIndex==e||c==e||this.visibleTabIndex<e&&c>e)&&(n-=1),this.scrollTab(Math.max(n,0))),t.next=48;break;case 45:t.prev=45,t.t4=t.catch(1),l.w.printStackTrace(t.t4,null,this);case 48:case"end":return t.stop()}}),t,this,[[1,45]])})));return function(e){
return t.apply(this,arguments)}}(),p.prototype.showTab=function(){var t=(0,r.Z)(i().mark((function t(e){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!((e=parseInt(e,10))<0||e>=this.tabArr.length)){t.next=5;break}return t.abrupt("return");case 5:if(0!=d.B.fireEvent(this,"onbeforeshow",this.getSelectedTabIndex(),e)){t.next=8;break}return t.abrupt("return");case 8:if((s=this.tabArr[e]).render.style.visibility="visible",s.render.style.display="",s.hidden=!1,-1!=this.selectedIndex){t.next=17;break}return t.next=15,this.setActiveTab(e);case 15:t.next=18;break;case 17:this.options.tabScrollAuto&&this.options.tabScroll&&this.visibleTabIndex>e&&this.scrollTab(this.visibleTabIndex);case 18:h.D.isIE(8)&&(s.render.style.zIndex=""),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),l.w.printStackTrace(t.t0,null,this);case 24:case"end":return t.stop()}}),t,this,[[1,21]])})));return function(e){return t.apply(this,arguments)}}(),p.prototype.getLabelText=function(t){try{return(t=parseInt(t,10))<0||t>=this.tabArr.length?null:this.tabArr[t].tabLabel}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setLabelText=function(t,e){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;1==this.options.tabScroll&&(this.tabArr[t].label=e);for(var s,r=this.tabArr[t],a=0;a<r.render.childNodes.length;a++)if(1==(s=r.render.childNodes[a]).nodeType&&"div"==s.nodeName.toLowerCase())for(var i=0;i<s.childNodes.length;i++){var n=s.childNodes[i];if(1==n.nodeType&&"a"==n.nodeName.toLowerCase())return r.tabLabel=e,void(n.innerHTML=e);if(1==n.nodeType&&"div"==n.nodeName.toLowerCase())return r.tabLabel=e,void n.setAttribute("title",e)}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setDisabled=function(t,e){try{t=h.D.getBoolean(t);if(b.s.prototype.setDisabled.call(this,t),e||this.options.keepDisabledTab)if(t)for(var s=0;s<this.tabArr.length;s++)this.tabArr[s].disabled||this.disabledTabStack.push(this.tabArr[s].tabID),this.disableTab(s);else{for(s=0;s<this.disabledTabStack.length;s++)for(var r=0;r<this.tabArr.length;r++)if(this.tabArr[r].tabID===this.disabledTabStack[s]){this.enableTab(r);break}this.disabledTabStack=[]}else{for(s=0;s<this.tabArr.length;s++)t?this.disableTab(s):this.enableTab(s);this.disabledTabStack=[]}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setSize=function(t,e){try{b.s.prototype.setSize.call(this,t,e)}catch(t){l.w.printStackTrace(t)}},p.prototype.setSubLayer=function(){try{if(null==this.itemTable){this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:!0,useAccessibilityMenu:this.options.useAccessibilityMenu,tableRender:this.options.tableRender,wheelRows:this.options.wheelRows,parent_uuid:this.uuid}),this.itemTable.writeTo(WebSquare.getBody(),null,this.parentFrame),this.itemTable.activate();var t=this;this.itemTable.addClickEventListener(function(){var e=(0,r.Z)(i().mark((function e(s,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.setSelectedTabIndex(t.getRealTabIndex(r));case 3:t.closeSubLayer();case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),this.itemTable.addKeyDownEventListener(function(){var e=(0,r.Z)(i().mark((function e(s){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!=(r=s.charCode?s.charCode:s.keyCode)&&32!=r){e.next=9;break}return e.next=5,t.setSelectedTabIndex(t.getRealTabIndex(this.getSelectedIndex()));case 5:t.focus(),t.closeSubLayer(),e.next=10;break;case 9:27==r?(document.getElementById(t.id+"_btn_submenu").focus(),t.closeSubLayer()):t.itemTable.endReached&&(t.itemTable.endReached=!1,
document.getElementById(t.id+"_btn_submenu").focus(),t.closeSubLayer());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setSelectOptions=function(){try{if(null!=this.itemTable){for(var t=[],e=0;e<this.tabArr.length;e++)this.tabArr[e].hidden||"none"==this.tabArr[e].render.style.display||"hidden"==this.tabArr[e].render.style.visibility||t.push(this.tabArr[e]);this.itemTable.setItemArr(t)}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setItemTable=function(){try{for(var t=document.getElementById(this.id+"_btn_submenu"),e=WebSquare.style.getSize(t,"outerMarginHeight"),s=WebSquare.style.getAbsoluteLeft(this.render)+this.render.offsetWidth,r=WebSquare.style.getAbsoluteTop(t)+e,a=0,i=0;i<this.tabArr.length;i++){var n=WebSquare.style.getSize(this.tabArr[i].render,"outerMarginWidth");n>a&&(a=n)}if(null===this.itemTableTdMargin){var o=document.getElementById(this.id+"_itemTable_0");o?this.options.useAccessibilityMenu?this.itemTableTdMargin=parseInt(WebSquare.style.getStyleProperty(o.parentNode,"margin-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(o.parentNode,"padding-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(o.parentNode,"padding-right"),10)||0+parseInt(WebSquare.style.getStyleProperty(o.parentNode,"margin-right"),10)||0:this.itemTableTdMargin=parseInt(WebSquare.style.getStyleProperty(o,"margin-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(o,"padding-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(o,"padding-right"),10)||0+parseInt(WebSquare.style.getStyleProperty(o,"margin-right"),10)||0:this.itemTableTdMargin=0}a+=this.itemTableTdMargin;var d=document.getElementById(this.itemTable.id+"_main");WebSquare.style.setStyle(d,"width",a+"px"),WebSquare.style.setStyle(this.itemTable.render,"width",a+"px"),s-=a;var h=document.body.scrollTop;h<document.documentElement.scrollTop&&(h=document.documentElement.scrollTop);var c=r-h;document.documentElement.clientHeight-c<this.itemTable.render.offsetHeight&&(r=r-this.itemTable.render.offsetHeight-e),this.itemTable.setPosition(s,r),WebSquare.style.adjustZIndex(this.uuid,this.itemTable.uuid,"itemTable")}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.toggle=function(){try{this.isOpen?this.closeSubLayer():this.openSubLayer()}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.openSubLayer=function(){try{WebSquare.getBody().getLayerListener().show(this.id)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._openSubLayer=function(){try{this.setSubLayer(),this.isOpen||(this.itemTable.show(),this.itemTable.render.setAttribute("aria-expanded","true"),this.setSelectOptions(),this.setItemTable(),this.itemTable.focus(),this.itemTable.setSelectedIndex(this.selectedIndex),this.isOpen=!0)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.closeSubLayer=function(t){try{var e={documentClick:t};WebSquare.getBody().getLayerListener().hide(this.id,e)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._closeSubLayer=function(t){try{this.isOpen&&null!=this.itemTable&&(this.itemTable.hide(),this.itemTable.render.setAttribute("aria-expanded","true"),this.isOpen=!1)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.finalize=function(){try{for(var t=this.childControlList.length-1;t>=0;t--)this.childControlList[t].remove();for(t=this.storedFrame.length-1;t>=0;t--){var e=h.D.getComponentById(this.storedFrame[t]);null!=e&&e.remove()}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.checkLoadEvent=function(t){try{if(t&&t.render&&t.render.contentWindow){var e=t.render.contentWindow;e.WebSquare&&e.WebSquare.scriptSectionExcuteFlag&&"executed"===e.WebSquare.scriptSectionExcuteFlag&&(h.D.clearInterval(t.id+"_checkLoadEvent"),h.D.fullViewed&&h.D.zoomed(e.document.body,"1")),e.WebSquare||h.D.clearInterval(t.id+"_checkLoadEvent")}}catch(e){t&&h.D.clearInterval(t.id+"_checkLoadEvent"),l.w.printStackTrace(e,null,this)}},
p.prototype.moveTab=function(t,e){try{if(t===e||t<0||e<0)return;var s=this.tabArr[this.selectedIndex],r=this.tabArr[t].userTabID,a=this.tabArr[e].userTabID;if(!1===d.B.fireEvent(this,"onbeforetabmove",{startTabID:r,startTabIndex:t,endTabID:a,endTabIndex:e}))return;var i=this.getTabHostAndContainer().tabhost,n=t>e?0:1;e<this.getTabCount()-1?i.insertBefore(this.tabArr[t].render,this.tabArr[e+n].render):i.appendChild(this.tabArr[t].render);var o=function(t,e,s){var r=t.splice(e,1);t.splice(s,0,r[0])};o(this.tabArr,t,e),o(this.contentsArr,t,e),o(this.bridgeIdArr,t,e),this.backbridgeIdArr&&this.backbridgeIdArr.length>0&&o(this.backbridgeIdArr,t,e);for(var h=0;h<this.tabArr.length;h++)if(this.tabArr[h]===s){this.selectedIndex=h;break}d.B.fireEvent(this,"onaftertabmove",{startTabID:r,startTabIndex:t,endTabID:a,endTabIndex:e})}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.getTabInfo=function(){try{for(var t=[],e=this.getTabCount(),s=h.D.getDataPrefix("index"),r=0;r<e;r++)t.push({id:this.tabArr[r].userTabID,label:this.tabArr[r].label,defaultTabIndex:Number(this.tabArr[r].render.getAttribute(s))-1,currentTabIndex:r,src:this.contentsArr[r].src,alwaysDraw:this.contentsArr[r].alwaysDraw});return t}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setTabOrder=function(t){try{var e=this.getTabCount();if(t.length!==e)return void c.k.printLog("WARNING !!! : setTabOrder argument array length must be "+e+"["+this.id+"]");for(var s=[],r=0;r<e;r++){var a=this.getTabIndex(t[r]);null==a&&(a=t[r]),s.push(a)}var i=this.getTabHostAndContainer().tabhost;for(r=0;r<e;r++)i.appendChild(this.tabArr[s[r]].render);var n=function(t,e){for(var s=t.splice(0,t.length),r=0;r<s.length;r++)t.push(s[e[r]])};n(this.tabArr,s),n(this.contentsArr,s),n(this.bridgeIdArr,s),this.backbridgeIdArr&&this.backbridgeIdArr.length>0&&n(this.backbridgeIdArr,s),this.selectedIndex=s[this.selectedIndex]}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setTabHTML=function(t,e){try{var s=this._getTabIndex(t);if(!this._isValidTabIndex(s))return;var r=this.tabArr[s];if(e&&r){var a=e;try{var i=h.D.getGlobalFunction(e,this.scope_id);a="function"==typeof i?i(r.label):i}catch(t){a=e}var n=document.getElementById(r.tabID+"_tabHTML");n&&(n.innerHTML=a,this.options.tabHTML=a)}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setWidth=function(t){try{if(t=parseInt(t,10),!isNaN(t)){this.render.style.width=t+"px",this.getTabHostAndContainer().container.style.width=t+"px";for(var e=0;e<this.tabArr.length;e++){var s=this.tabArr[e],r=this.contentsArr[e],a=this.getChild(r.contentsID+"_body");s.contentsRender=document.getElementById(s.contentsID),s.contentsRender.style.width=t+"px",a&&a.render&&(a.render.style.width=t+"px")}}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setHeight=function(t){try{if(t=parseInt(t,10),!isNaN(t)){this.render.style.height=t+"px";var e=this.getTabHostAndContainer(),s=e.container;t-=e.tabhost.clientHeight,s.style.height=t+"px";for(var r=0;r<this.tabArr.length;r++){var a=this.tabArr[r],i=this.contentsArr[r],n=this.getChild(i.contentsID+"_body");a.contentsRender=document.getElementById(a.contentsID),a.contentsRender.style.height=t+"px",n&&n.render&&(n.render.style.height=t+"px")}}}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.setWindowMaxNum=function(t){try{if(!t||"number"!=typeof t)return!1;this.options.windowMaxNum=t}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype.changeTabhostAccessibility=function(t,e){try{if(null==t||null==t||t<0||t>=this.getTabCount())return;if(0==e||e||(e=this.selectedIndex),t==e)return;var s,r,a=this.getTabHostAndContainer().tabhost,i=a.childNodes[t],n=a.childNodes[e];return"image"==this.tabArr[t].tabType?i&&i.firstChild&&(s=i.firstChild):i&&i.firstChild&&i.firstChild.firstChild&&(s=i.firstChild.firstChild),this.tabArr[e]&&"image"==this.tabArr[e].tabType?n&&n.firstChild&&(r=n.firstChild):n&&n.firstChild&&n.firstChild.firstChild&&(r=n.firstChild.firstChild),
r&&r.setAttribute("aria-selected","false"),void(s&&s.setAttribute("aria-selected","true"))}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._addTabEvent=function(t){try{var e=WebSquare.idCache[t.uuid],s=this.uuid,r=t.tabID,a=t.userTabID,i="on"+e.options.pluginName+"load";e.bind(i,(function(){var t=WebSquare.idCache[s];if(t){var e=t.getTabIndex(a);d.B.fireEvent(t,"ondrawcomplete",r,e,a),d.B.fireEvent(t,"ontabload",r,e,a)}}));var n="on"+e.options.pluginName+"unload";e.bind(n,(function(){var t=WebSquare.idCache[s];if(t){var e=t.getTabIndex(a);d.B.fireEvent(t,"ontabunload",r,e,a)}}))}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._isValidTabIndex=function(t){try{return!(isNaN(t)||t<0||t>=this.tabArr.length)}catch(t){l.w.printStackTrace(t,null,this)}},p.prototype._initializeIScroll=function(){try{h.D.isMobile()&&(this.iScroll={epsilon:30})}catch(t){l.w.printStackTrace(t,null,this)}}}}]);