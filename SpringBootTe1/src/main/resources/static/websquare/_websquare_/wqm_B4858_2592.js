(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[2592],{2592:(e,t,i)=>{"use strict";i.r(t),i.d(t,{generator:()=>h});var r=i(2981),n=i(1656),s=i(2085),a=i(3082),o=i(6615),h=function(e,t,i){o.s.call(this,e,t,i)};h.prototype.initAsync=async function(){await this._parse()},r.x.extend(h.prototype,o.s.prototype),h.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator",tagname:"div"},h.prototype.initialize=function(e){this.idCounter=0,this.dynamicCreateHash=a.D.isIE()&&parseInt(n.v.browserVersion(),10)<10?{tbody:!0,thead:!0,tfoot:!0,tr:!0}:{},this.passHash={script:!0,label:!0,value:!0,choices:!0,item:!0,itemset:!0,attributes:!0},e&&1==e.nodeType&&!this.id&&(this.id=e.getAttribute("id")),this.tagName=this.options.tagname,this.itemCnt=0,this.insertItemCnt=0,this.generatedIndexSet=[],this.generatedElementSet=[]},h.prototype.toHTML=function(){try{var e=[],t=WebSquare.Parser.parseAttribute(this.element);for(var i in e.push("<"+this.options.tagname),t)if("id"==i){var r=this.id?" id='"+this.id+"'":" id='"+t[i]+"'";e.push(r)}else if("tagname"!=i){"className"==i&&(t[i="class"]=t.className,delete t.className);r=t[i]?" "+i+"='"+t[i]+"'":"";e.push(r)}return e.push(">"),e.push("</"+this.options.tagname+">"),e.join("")}catch(e){s.w.printStackTrace(e,null,this)}},h.prototype.setAction=function(){},h.prototype.setChildElement=function(e,t){try{if(1==e.nodeType){var i=e.getLocalName();if(!this.passHash[i]){var r="",n=a.D.getDataPrefix("g_index"),o=a.D.getDataPrefix("original_id");r=this.scope_obj&&null!=this.org_id?this.org_id+"_"+t+"_":this.id+"_"+t+"_";var h=e.getAttribute("id")||"",l=e.getAttribute("label"),c=e.getTagName();if(e.setAttribute(n,t),"w2:tag"==c&&""==h&&(h="w2generator_"+this.idCounter++),h&&(e.setAttribute(o,h),"w2:listColumn"!=c&&e.setAttribute("id",r+h)),l&&"w2:textbox"!==c&&"w2:span"!==c&&(e.setAttribute("org_label",l),e.setAttribute("label",WebSquare.xml.encode(l))),"w2:generator"!=c)for(var d=e.getChildNodes(),p=0;p<d.length;p++)this.setChildElement(d[p],t)}}}catch(e){s.w.printStackTrace(e)}},h.prototype.restoreChildElement=function(e){try{if(1==e.nodeType){var t=e.getLocalName();if(!this.passHash[t]){var i=a.D.getDataPrefix("g_index"),r=a.D.getDataPrefix("original_id"),n=a.D.getDataPrefix("original_ref"),o=a.D.getDataPrefix("original_nodeset"),h=a.D.getDataPrefix("nodeset"),l=e.getAttribute(r),c=e.getAttribute(n),d=e.getAttribute("org_label");if(e.removeAttribute(i),l&&(e.setAttribute("id",l),e.removeAttribute(r)),c&&(e.setAttribute("ref",c),e.removeAttribute(n)),d&&(e.setAttribute("label",d),e.removeAttribute("original_label")),"w2:generator"==e.getTagName()){var p=e.getAttribute(o);p&&(e.setAttribute(h,p),e.removeAttribute(o))}else for(var u=e.getChildNodes(),m=0;m<u.length;m++)this.restoreChildElement(u[m])}}}catch(e){s.w.printStackTrace(e)}},h.prototype.getLength=function(){return this.generatedIndexSet.length},h.prototype.getChild=function(e,t){var i=this.generatedIndexSet[e],r=this.id+"_"+i+"_"+t;return a.D.getComponentById(r)||document.getElementById(r)},h.prototype.insertChild=function(e){return this.insert(e)},h.prototype.insert=function(e){try{if("number"==typeof e&&null!=this.generatedElementSet[e]){for(var t=0,i=0;i<e;i++)t+=this.generatedElementSet[i].length;this.targetNode=this.render.childNodes[t]}var r=[],a=[],o=[],h=this.dynamicCreateHash[this.options.tagname],l=this.element.cloneNode(!0),c=0,d=l.getChildNodes();for(i=0;i<d.length;i++){var p=d[i];this.setChildElement(p,this.insertItemCnt);var u=null;1===p.nodeType?(u=this._compHash[c]._cloneRecursive(p),c++):(3!==p.nodeType||h)&&(u=WebSquare.controlFactory.createByJSON(null,null,p._element,this.scope_obj,this.parentFrame)),u&&(this.addControl(u),h?this.dynamicAppend(this.render,u,e):3==p.nodeType?a.push(p.nodeValue):(a.push(u.toHTML()),o.push(u))),h&&this.restoreChildElement(p),u&&r.push(u)}
var m=WebSquare.controlFactory.initAsync(),g=WebSquare.controlFactory._asyncList.length>0||WebSquare.controlFactory._awaitObj.key.length>0;if(!h){var f=a.join(""),y=document.createElement(this.options.tagname);for(y.innerHTML=f;y.childNodes.length>0;)this.targetNode?this.targetNode=this.render.insertBefore(y.childNodes[y.childNodes.length-1],this.targetNode):this.render.appendChild(y.childNodes[0]);if(g){for(var b=this.uuid,v=[],C=0;C<o.length;C++)v.push(o[C].uuid);m.then((function(e,t){n.v.executePointScript(4);for(var i=WebSquare.idCache[b],r=[],s=0;s<v.length;s++)r.push(WebSquare.idCache[v[s]]);i._insertAfter(r)}))}else this._insertAfter(o)}var _=this.itemCnt;return"number"==typeof e?(this.generatedIndexSet.splice(e,0,this.insertItemCnt),this.generatedElementSet.splice(e,0,r),_=e):(this.generatedIndexSet.push(this.insertItemCnt),this.generatedElementSet.push(r)),this.targetNode=null,this.itemCnt++,this.insertItemCnt++,_}catch(e){s.w.printStackTrace(e,null,this)}},h.prototype._insertAfter=function(e){try{for(;e.length>0;){var t=e.shift();t.activate(),t.onComplete()}}catch(e){s.w.printStackTrace(e,null,this)}},h.prototype.dynamicAppend=function(e,t,i){try{var r=t.toHTML(),n=r.match(/(<)([^ >\/]*)/),a=n&&n[2]?n[2]:null;if(a){var h=document.createElement(a),l=WebSquare.xml.parse(r),c=WebSquare.WebSquareparser.parseAttribute(l.documentElement);try{for(var d in c)"style"==d?h.style.cssText=c[d]:"className"==d?h.className=c[d]:h.setAttribute(d,c[d])}catch(e){s.w.printStackTrace(e,null,this)}if("number"==typeof i&&this.targetNode?(e.insertBefore(h,this.targetNode),t.activate(),t.onComplete()):(e.appendChild(h),t.activate(),t.onComplete()),0==t.childControlList.length)for(var p=0;p<l.documentElement.childNodes.length;p++){var u=l.documentElement.childNodes[p];(m=WebSquare.controlFactory.create(null,null,u))&&t.addControl(m)}for(p=0;p<t.childControlList.length;p++){var m;3==(m=t.childControlList[p]).element.nodeType?h.appendChild(document.createTextNode(m.element.data)):this.dynamicCreateHash[a]?this.dynamicAppend(h,m):(o.s.prototype.writeTo.call(m,h),m.activate(),m.onComplete())}}}catch(e){s.w.printStackTrace(e,null,this)}},h.prototype._clone=function(e){try{var t=o.s.prototype._clone.call(this,e);return t._compHash=this._compHash.slice(0),t}catch(e){s.w.printStackTrace(e,null,this)}},h.prototype.removeChild=function(e){return null==e&&(e=this.generatedElementSet.length-1),this.remove(e)},h.prototype.remove=function(e){if(null!=e){if("number"==typeof e&&this.generatedElementSet[e]){for(var t=0;t<this.generatedElementSet[e].length;t++){var i=this.generatedElementSet[e][t];i.remove&&i.remove()}var r=this.generatedIndexSet.splice(e,1);return this.generatedElementSet.splice(e,1),this.itemCnt--,r}}else o.s.prototype.remove.call(this)},h.prototype.removeAll=function(){for(var e=this.childControlList.length-1;e>=0;e--)this.childControlList[e].remove&&this.childControlList[e].remove();WebSquare.removeChildren(this.render),this.generatedIndexSet=[],this.generatedElementSet=[],this.itemCnt=0,this.insertItemCnt=0},h.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0)},h.prototype.setStyle=function(e,t){try{if(!this.render)return;if(WebSquare.style.setStyle(this.render,e,t),"width"==e||"height"==e)for(var i=this.getChildren(),r=this.getChildrenCount(),n=0;n<r;n++)i[n].render.style[e]=t}catch(e){s.w.printStackTrace(e)}},h.prototype.finalize=function(){try{if(o.s.prototype.finalize.call(this),this._compHash)for(var e=0;e<this._compHash.length;e++)this._compHash[e].remove();this.removeAll()}catch(e){s.w.printStackTrace(e)}},h.prototype._parse=async function(){try{this._compHash=[];for(var e=this.dynamicCreateHash[this.options.tagname],t=this.element.cloneNode(!0).getChildNodes(),i=0;i<t.length;i++){var r=t[i];this.setChildElement(r,"_base_");var n=null;if((3!==r.nodeType||e)&&(n=WebSquare.controlFactory.createByJSON(null,null,r._element,this.scope_obj,this.parentFrame)),n)if(!0===n._wqAsync){
var a=this.uuid,o=this._compHash.length;n.then((function(e,t){var i=WebSquare.idCache[a];e.scope_obj=i.scope_obj,i._compHash.splice(o,0,e)}))}else n.scope_obj=this.scope_obj,this._compHash.push(n)}}catch(e){s.w.printStackTrace(e,null,this)}}}}]);