<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko"><head><title>[GridView] 조건에 따라 소계(subtotal)에 class 적용하기</title><link rel="stylesheet" href="css/book.css" type="text/css" /><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /><meta name="EPB-UUID" content="26ad9595a3708c5f" /></head><body><div id="content"><h1 id="r_70b4f0a4d3b86d65" class="chapter_title">[GridView] 조건에 따라 소계(subtotal)에 class 적용하기</h1><h1 id="r_16f6b3b237fab739" class="element heading1"><span class="heading1_n">1</span>개요</h1><pre id="r_029390efcf5a1b50" class="element pre">GridView의 소계(subtotal) 컬럼을 조건에 따라 class를 적용하는 예제입니다.</pre><p id="r_524c1ca24f99fbdf" class="element r_example_link_p"><a class="link" href="http://example.inswave.kr/sp5/exampleLink.html?p=P00098">P00098</a></p><h1 id="r_caaf885ac98b941e" class="element heading1"><span class="heading1_n">2</span>구현된 기능</h1><ul id="r_ce8730c205a05b04" class="element unordered_list"><li><p>조건에 따라 소계(subtotal) 컬럼에 class 적용하기</p></li></ul><h1 id="r_032a3627761d8dda" class="element heading1"><span class="heading1_n">3</span>예제 테스트 방법</h1><p id="r_1ea12a174c0dcf7f" class="element normal">소계(subtotal)의 값이 1500 이상인 경우만 굵고 붉은 글자로 표시됨을 확인합니다.</p><div id="r_9e524a02f795c6d5" class="element image"><p class="caption"><span class="image_caption_n">그림 0-1.</span>[브라우저(Chrome) 실행 예시]</p><p class="content"><img alt="" src="images/image313.png" width="382" height="446" /></p></div><h1 id="r_61b557a89564df2b" class="element heading1"><span class="heading1_n">4</span>구현 예시</h1><div id="r_b40f3e4fac7f752b" class="element caution">GridView와 연결된 DataList 생성 및 연결 방법과<br/>소계(subtotal) 생성 방법은 생략되었습니다.</div><h2 id="r_c41af1478ea9e7fb" class="element heading2"><span class="heading2_n">4.1</span>조건에 따라 소계(subtotal) 컬럼에 class 적용하기</h2><dl id="r_adcee64c899305d1" class="element definition_list"><dt>STEP1. class 정의하기</dt><dd><p>css 파일에 아래와 같이 class를 정의합니다.</p></dd></dl><div id="r_430fbc659de07bab" class="element code support_code_numbering"><pre><span class="digits_1 code_line"></span><span class="selector">.ws5_example_txt_red2</span> { 
<span class="digits_1 code_line"></span><span class="css_name">&nbsp;&nbsp;&nbsp;&nbsp;color</span>: <span class="css_value">#e10e0e !important</span>; 
<span class="digits_1 code_line"></span><span class="css_name">&nbsp;&nbsp;&nbsp;&nbsp;font-weight</span>: <span class="css_value">bold !important</span>; 
<span class="digits_1 code_line"></span>}</pre></div><dl id="r_658f788a976eb720" class="element definition_list"><dt>STEP2. 소계(subtotal) 컬럼의 ID를 할당합니다.</dt><dd><p>1분기, 2분기, 3분기, 4분기 소계(subtotal) 컬럼의 ID를 아래와 같이 정의합니다.</p></dd></dl><ul id="r_30dacb47042b2c89" class="element unordered_list"><li><p>1분기 소계 컬럼 ID : "sub_col_1"</p></li><li><p>2분기 소계 컬럼 ID : "sub_col_2"</p></li><li><p>3분기 소계 컬럼 ID : "sub_col_3"</p></li><li><p>4분기 소계 컬럼 ID : "sub_col_4"</p></li></ul><div id="r_45117daff34737d9" class="element image"><p class="caption"><span class="image_caption_n">그림 0-2.</span>[웹스퀘어5 SP5 스튜디오의 Design 탭 예시 - 소계 컬럼 ID 예시]</p><p class="content"><img alt="" src="images/image314.png" width="496" height="307" /></p></div><dl id="r_72a28ef149b86e42" class="element definition_list"><dt>STEP3. 속성 정의하기</dt><dd><p>GridView의 속성 "subtotalStyleFormatter"에 사용할 함수명을 정의합니다.</p><p>이 예제에서는 함수 "scwin.grd_exam1_subtotalStyleFormatter"을 사용했습니다.</p><p>예시) subtotalStyleFormatter="scwin.grd_exam1_subtotalStyleFormatter"</p></dd></dl><ul id="r_e412013d521ac8e1" class="element unordered_list"><li><p>[필수] subtotalStyleFormatter="함수명"</p></li></ul><div id="r_39b9812d9c225663" class="element image"><p class="caption"><span class="image_caption_n">그림 0-3.</span>[웹스퀘어5 SP5 스튜디오의 Property View(속성창) 예시]</p><p class="content"><img alt="" src="images/image315.png" width="421" height="146" /></p></div><div id="r_e3ae34c24bcd8b68" class="element code support_code_numbering"><pre><span class="digits_1 code_line"></span><span class="comment">&lt;!-- gridView 의 소스 본문 예시 --&gt;</span>
<span class="digits_1 code_line"></span>&lt;w2:gridView <span class="attribute_name">subtotalStyleFormatter</span>=<span class="attribute_value">"scwin.grd_exam1_subtotalStyleFormatter"</span>  <span class="attribute_name">dataList</span>=<span class="attribute_value">"data:dlt_griddata"</span> &gt;
<span class="digits_1 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">&lt;!-- 중략 --&gt;</span>
<span class="digits_1 code_line"></span>&lt;/w2:gridView&gt;</pre></div><dl id="r_88c52a3633827f24" class="element definition_list"><dt>STEP4. 함수 정의하기</dt><dd><p>속성 subtotalStyleFormatter에 정의한 함수 "scwin.grd_exam1_subtotalStyleFormatter"를 정의합니다.</p><p>아래의 스크립트는 subtotal의 컬럼 ID가 "sub_col_1, sub_col_2, sub_col_3, sub_col_4"(1분기, 2분기, 3분기, 4분기)이고,</p><p>subtotal의 값이 1500 이상이면 class "ws5_example_txt_red2"를 적용하는 예시입니다.</p></dd></dl><div id="r_f4a8069350dca27d" class="element code support_code_numbering"><pre><span class="digits_10 code_line"></span><span class="comment">/**
<span class="digits_10 code_line"></span> * gridView "grd_exam1"의 소계 class formatter
<span class="digits_10 code_line"></span> */</span>
<span class="digits_10 code_line"></span>scwin.grd_exam1_subtotalStyleFormatter = <span class="keyword">function</span>(value, formattedValue, subtotalColumnId){
<span class="digits_10 code_line"></span>    <span class="keyword">var</span> strReturnValue;
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span>    <span class="comment">//소계 컬럼의 ID로 조건 처리</span>
<span class="digits_10 code_line"></span>    <span class="keyword">switch</span> (subtotalColumnId) {
<span class="digits_10 code_line"></span>    <span class="keyword">case</span> <span class="string">"sub_col_1"</span> :  <span class="comment">//1분기 소계 컬럼 ID</span>
<span class="digits_10 code_line"></span>    <span class="keyword">case</span> <span class="string">"sub_col_2"</span> :  <span class="comment">//2분기 소계 컬럼 ID</span>
<span class="digits_10 code_line"></span>    <span class="keyword">case</span> <span class="string">"sub_col_3"</span> :  <span class="comment">//3분기 소계 컬럼 ID</span>
<span class="digits_10 code_line"></span>    <span class="keyword">case</span> <span class="string">"sub_col_4"</span> :  <span class="comment">//4분기 소계 컬럼 ID</span>
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span>        <span class="comment">//소계가 1500 이상이면 class "ws5_example_txt_red2"를 적용합니다.</span>
<span class="digits_10 code_line"></span>        <span class="keyword">if</span> (value &gt;= 1500) {
<span class="digits_10 code_line"></span>            strReturnValue = <span class="string">"ws5_example_txt_red2"</span>;
<span class="digits_10 code_line"></span>        }        
<span class="digits_10 code_line"></span>        break;
<span class="digits_10 code_line"></span>    default:
<span class="digits_10 code_line"></span>        break;
<span class="digits_10 code_line"></span>    }
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span>    <span class="keyword">return</span> strReturnValue;
<span class="digits_10 code_line"></span>};</pre></div><h1 id="r_3a408ef17d43a5ed" class="element heading1"><span class="heading1_n">5</span>주요 API</h1><dl id="r_1158a52e10780c43" class="element definition_list"><dt><span class="r_ex_api_property_span">subtotalStyleFormatter</span> </dt><dd><p>subtotal의 값에 따라 class를 적용하는 기능을 제공합니다.</p><p>함수명을 입력한다. 사용법은 customFormatter와 유사합니다.</p><p>함수는 인자로 원본 데이터, 포매팅이 적용된 데이터, subtotalColumnId를 엔진에서 넘겨줍니다. 이 값에 따라 조건에 맞는 className 문자열을 리턴값으로 반환하는 함수를 작성합니다.</p><p>(사용 예)</p><p>subtotal 값이 음수일 때는 파란색, 양수일 때는 빨간색으로 표헌하고자 하는 경우 아래와 같이 구현.</p></dd></dl><div id="r_71bc48f917b9015a" class="element code support_code_numbering"><pre><span class="digits_10 code_line"></span><span class="comment">// 먼저 다음 css를 등록 : </span>
<span class="digits_10 code_line"></span><span class="comment">// .cm_subtotalplus{color:red;} </span>
<span class="digits_10 code_line"></span><span class="comment">// .cm_subtotalminus{color:blue;}</span>
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span><span class="comment">// 이후 아래 함수 코드를 화면에 작성</span>
<span class="digits_10 code_line"></span>scwin.gridView1_subtotalStyleFormatter = <span class="keyword">function</span>(value, formattedValue, subtotalColumnId){
<span class="digits_10 code_line"></span>    <span class="keyword">if</span> (subtotalColumnId !== <span class="string">"column28"</span> &amp;&amp; subtotalColumnId !== <span class="string">"column23"</span>) {
<span class="digits_10 code_line"></span>        return;
<span class="digits_10 code_line"></span>    }
<span class="digits_10 code_line"></span>    <span class="keyword">if</span> (isNaN(value) || value === 0) {
<span class="digits_10 code_line"></span>        return;
<span class="digits_10 code_line"></span>    }
<span class="digits_10 code_line"></span>    <span class="keyword">if</span> (value &gt; 0) { 
<span class="digits_10 code_line"></span>        <span class="keyword">return</span> <span class="string">"cm_subtotalplus"</span>;
<span class="digits_10 code_line"></span>    } <span class="keyword">else</span> <span class="keyword">if</span> (value &lt; 0) { 
<span class="digits_10 code_line"></span>        <span class="keyword">return</span> <span class="string">"cm_subtotalminus"</span>;
<span class="digits_10 code_line"></span>    }
<span class="digits_10 code_line"></span>}</pre></div><h1 id="r_03d9e0b85e08f255" class="element heading1"><span class="heading1_n">6</span>참고 문서</h1><ul id="r_73220e49f06fe978" class="element unordered_list"><li><p><strong>[웹스퀘어5 SP5 개발 가이드] GridView</strong></p><p>링크 : <a class="link" href="https://docs1.inswave.com/sp5_user_guide#0a551d265f2956b2">https://docs1.inswave.com/sp5_user_guide#0a551d265f2956b2</a></p></li><li><p><strong>[웹스퀘어5 SP5 개발 가이드] GridView subtotal &amp; total</strong></p><p>링크 : <a class="link" href="https://docs1.inswave.com/sp5_user_guide#10ec21f58c5e14f3">https://docs1.inswave.com/sp5_user_guide#10ec21f58c5e14f3</a></p></li><li><p><strong>[웹스퀘어5 SP5 개발 가이드] GridView subtotal 컬럼을 기준으로 서로 다른 CSS 스타일 적용</strong></p><p>링크 : <a class="link" href="https://docs1.inswave.com/sp5_user_guide#18895601138055c0">https://docs1.inswave.com/sp5_user_guide#18895601138055c0</a></p></li></ul><h1 id="r_544297ddb734699b" class="element heading1"><span class="heading1_n">7</span>참고 동영상</h1><ul id="r_43221f8e120ad147" class="element unordered_list"><li><p><strong>GridView subtotal 컬럼을 기준으로 서로 다른 CSS 스타일 적용</strong> </p><p>링크 : <a class="link" href="https://youtu.be/3xh5OE5Mar4">https://youtu.be/3xh5OE5Mar4</a></p><p><img alt="" src="images/image316.png" width="597" height="422" /></p></li></ul></div></body></html>