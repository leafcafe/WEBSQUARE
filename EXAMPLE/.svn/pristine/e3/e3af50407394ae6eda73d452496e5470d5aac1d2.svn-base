<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<w2:type>COMPONENT</w2:type>
		<w2:buildDate />
		<w2:MSA />
		<xf:model>
			<w2:dataCollection baseNode="map">
				<w2:dataList baseNode="list" id="dlt_page_history" repeatNode="map" saveRemovedData="true" style="">
					<w2:columnInfo>
						<w2:column dataType="text" id="updated_date" name="업데이트 날짜"></w2:column>
						<w2:column dataType="text" id="version" name="버전"></w2:column>
						<w2:column dataType="text" id="description" name="설명"></w2:column>
						<w2:column dataType="text" id="author" name="작성인"></w2:column>
					</w2:columnInfo>
					<w2:data use="true">
						<w2:row>
							<updated_date><![CDATA[20230117]]></updated_date>
							<version><![CDATA[01]]></version>
							<description><![CDATA[최초작성]]></description>
							<author><![CDATA[InswaveSystems]]></author>
						</w2:row>
					</w2:data>
				</w2:dataList>
				<w2:dataList id="dlt_member" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="GENDER_CD" name="성별" dataType="text"></w2:column>
						<w2:column id="POSITION_CD" name="직위" dataType="text"></w2:column>
						<w2:column id="EMP_CD" name="사번" dataType="number"></w2:column>
						<w2:column id="SALARY" name="연봉" dataType="text"></w2:column>
					</w2:columnInfo>
					<w2:data use="true">
						<w2:row>
							<EMP_CD><![CDATA[10001334]]></EMP_CD>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
							<SALARY><![CDATA[2900]]></SALARY>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001335]]></EMP_CD>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[부장]]></POSITION_CD>
							<SALARY><![CDATA[7400]]></SALARY>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001336]]></EMP_CD>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[차장]]></POSITION_CD>
							<SALARY><![CDATA[6400]]></SALARY>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001337]]></EMP_CD>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
							<SALARY><![CDATA[3100]]></SALARY>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001338]]></EMP_CD>
							<SALARY><![CDATA[4100]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[대리]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001339]]></EMP_CD>
							<SALARY><![CDATA[5100]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[과장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001340]]></EMP_CD>
							<SALARY><![CDATA[3300]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001341]]></EMP_CD>
							<SALARY><![CDATA[7200]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[부장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001342]]></EMP_CD>
							<SALARY><![CDATA[6200]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[차장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001343]]></EMP_CD>
							<SALARY><![CDATA[2800]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001344]]></EMP_CD>
							<SALARY><![CDATA[3700]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[대리]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001345]]></EMP_CD>
							<SALARY><![CDATA[5200]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[과장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001346]]></EMP_CD>
							<SALARY><![CDATA[2800]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001347]]></EMP_CD>
							<SALARY><![CDATA[7200]]></SALARY>
							<GENDER_CD><![CDATA[여]]></GENDER_CD>
							<POSITION_CD><![CDATA[부장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001348]]></EMP_CD>
							<SALARY><![CDATA[6700]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[차장]]></POSITION_CD>
						</w2:row>
						<w2:row>
							<EMP_CD><![CDATA[10001349]]></EMP_CD>
							<SALARY><![CDATA[2800]]></SALARY>
							<GENDER_CD><![CDATA[남]]></GENDER_CD>
							<POSITION_CD><![CDATA[사원]]></POSITION_CD>
						</w2:row>
					</w2:data>
				</w2:dataList>
			</w2:dataCollection>
			<w2:workflowCollection />
		</xf:model>
		<w2:layoutInfo />
		<w2:publicInfo method="" />
		<script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function () {

};


scwin.btn1_onclick = function (e) {
	// groupby에서 사용할 옵션 객체
	var options = {
		sortIndex: [0, 1],		// groupby를 할 기준 컬럼 index (0번, 1번)
		closeGroup: false,		// groupby 된 데이터의 숨김 상태 여부
		groupbyHeader: [		// 전체 건수를 헤더에 표현하는 방식 설정
			{
				inputType: "expression",
				expression: 'toggle() + depthStr() + "[ " + count() + " Cases ]"',
				align: "left", colSpan: "4"
			}
		],
		groupbyFooter: {		// 전체 건수를 푸터에 표현하는 방식 설정
			depth_0: [
				{ colSpan: "3", value: "Total", align: "right" },
				{ inputType: "expression", expression: 'SUM("SALARY")' }
			],
			depth_1: [
				{ colSpan: "3", value: "Sub Total", align: "right" },
				{ inputType: "expression", expression: 'SUM("SALARY")' }
			]
		}
	};

	grd.groupby(options);
};

scwin.btn2_onclick = function (e) {
	grd.clearGroupby();
};
scwin.ongroupby = function (options) {
	options.closeGroup = true;
	options.groupbyHeader = [{
		colSpan: "2",
		inputType: "expression",
		expression: "toggle() + depthStr() + ' [ ' + count() + ' 건 ] ' ",
		align: "left"
	},
	{ colSpan: "1", inputType: "text", value: "평균" },
	{
		colSpan: "1", inputType: "expression", expression: "AVG('SALARY')",
		align: "right", displayFormat: "#,##0", displayFormatType: "number"
	}
	];
	options.groupbyFooter = [
		{ colSpan: "2" },
		{ colSpan: "1", inputType: "text", value: "총합" },
		{
			colSpan: "1", inputType: "expression", expression: "SUM('SALARY')",
			align: "right", displayFormat: "#,##0", displayFormatType: "number"
		}
	];
	grd.groupby(options); //그룹핑 시작
}]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<xf:group class="sub_contents" id="" style="">
			<xf:group class="ws_example_grp_desc" id="" style="">
				<w2:textbox escape="false" id=""
					label='GridView의 group by 기능 예제입니다.&lt;br/&gt;GridView의 이벤트인 ongroupby 기능을 이용해 선택한 컬럼 기준으로 grouping 하는 예제입니다.' style="">
				</w2:textbox>
			</xf:group>
			<xf:group class="example_div_tb_style_wrap" id="">
				<xf:group class="example_div_tr_style" id="" style="">
					<w2:textbox class="example_div_th_style" escape="false" id="" label="Grouping" style=""></w2:textbox>
					<xf:group class="example_div_td_style" id="" style="">
						<w2:textbox class="ws5_example_txt_normal" escape="false" id=""
							label="조작 방법&lt;br/&gt;- 분류할 컬럼을 그리드뷰 상단에 group by zone에 drag &amp; drop한다." style="">
						</w2:textbox>
						<xf:group class="mb_def_box nobottom" id="" style="">
							<xf:trigger class="btn_exam_exec btn_txt_of" disabled="" escape="false" ev:onclick="scwin.btn1_onclick" id="btn1" style=""
								type="button">
								<xf:label><![CDATA[Groupby]]></xf:label>
							</xf:trigger>
							<xf:trigger class="btn_exam_exec btn_txt_of" disabled="" escape="false" ev:onclick="scwin.btn2_onclick" id="btn2" style=""
								type="button">
								<xf:label><![CDATA[ClearGroup]]></xf:label>
							</xf:trigger>
						</xf:group>
						<w2:gridView class="wq_gvw" dataList="data:dlt_member" id="grd" style="height: 300px;" defaultCellHeight="24"
							ev:ongroupby="scwin.ongroupby" autoFit="allColumn" groupbyZone="true" visibleRowNum="10">
							<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
							<w2:header style="" id="header1">
								<w2:row style="" id="row1">
									<w2:column width="70" inputType="text" style="" id="column4" value="성별" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="column3" value="직위" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="column2" value="사번" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="column1" value="연봉" displayMode="label"></w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody style="" id="gBody1">
								<w2:row style="" id="row2">
									<w2:column width="70" inputType="text" style="" id="GENDER_CD" value="" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="POSITION_CD" value="" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="EMP_CD" value="" displayMode="label"></w2:column>
									<w2:column width="70" inputType="text" style="" id="SALARY" value="" displayMode="label"></w2:column>
								</w2:row>
							</w2:gBody>
						</w2:gridView>
					</xf:group>
				</xf:group>
			</xf:group>
		</xf:group>
	</body>
</html>
